{"remainingRequest":"F:\\project\\ksmg\\exam-vue\\node_modules\\babel-loader\\lib\\index.js!F:\\project\\ksmg\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\project\\ksmg\\exam-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\project\\ksmg\\exam-vue\\src\\views\\pages\\business\\exam.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\project\\ksmg\\exam-vue\\src\\views\\pages\\business\\exam.vue","mtime":1697694788587},{"path":"F:\\project\\ksmg\\exam-vue\\babel.config.js","mtime":1698853375725},{"path":"F:\\project\\ksmg\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\project\\ksmg\\exam-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\project\\ksmg\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\project\\ksmg\\exam-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHJlcXVlc3QgZnJvbSAnQC91dGlscy9yZXF1ZXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIHNpZ0xpc3Q6IFtdLAogICAgICAgIG11bExpc3Q6IFtdLAogICAgICAgIHBkTGlzdDogW10sCiAgICAgICAgd2RMaXN0OiBbXSwKICAgICAgICBleGFtSWQ6ICcnLAogICAgICAgIHJlc3VsdElkOiAnJywKICAgICAgICB0ZXN0TGlzdDogW10KICAgICAgfSwKICAgICAgbWluOiAnJywKICAgICAgc2VjOiAnJywKICAgICAgZXhhbVR5cGU6ICcnLAogICAgICBmcm9tVHlwZTogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjb3VudERvd246IGZ1bmN0aW9uIGNvdW50RG93bigpIHsKICAgICAgLy9jb25zdCBlbmQgPSBEYXRlLnBhcnNlKG5ldyBEYXRlKCcyMDIzLTEwLTAyIDEzOjMwOjAwJykpCiAgICAgIHZhciBlbmQgPSBEYXRlLnBhcnNlKG5ldyBEYXRlKHRoaXMuJHJvdXRlLnF1ZXJ5LmVuZFRpbWUpKTsKICAgICAgdmFyIG5vdyA9IERhdGUucGFyc2UobmV3IERhdGUoKSk7CiAgICAgIHZhciBtc2VjID0gZW5kIC0gbm93OwogICAgICBpZiAobXNlYyA8IDApIHJldHVybjsKICAgICAgdmFyIGRheSA9IHBhcnNlSW50KG1zZWMgLyAxMDAwIC8gNjAgLyA2MCAvIDI0KTsKICAgICAgdmFyIGhyID0gcGFyc2VJbnQobXNlYyAvIDEwMDAgLyA2MCAvIDYwICUgMjQpOwogICAgICB2YXIgbWluID0gcGFyc2VJbnQobXNlYyAvIDEwMDAgLyA2MCAlIDYwKTsKICAgICAgdmFyIHNlYyA9IHBhcnNlSW50KG1zZWMgLyAxMDAwICUgNjApOwogICAgICB0aGlzLmRheSA9IGRheTsKICAgICAgdGhpcy5ociA9IGhyID4gOSA/IGhyIDogJzAnICsgaHI7CiAgICAgIHRoaXMubWluID0gbWluID4gOSA/IG1pbiA6ICcwJyArIG1pbjsKICAgICAgdGhpcy5zZWMgPSBzZWMgPiA5ID8gc2VjIDogJzAnICsgc2VjOwogICAgICB2YXIgdGhhdCA9IHRoaXM7CgogICAgICBpZiAobWluID49IDAgJiYgc2VjID49IDApIHsKICAgICAgICAvL+WAkuiuoeaXtue7k+adn+WFs+mXreiuouWNlQogICAgICAgIGlmIChtaW4gPT0gMCAmJiBzZWMgPT0gMCkgewogICAgICAgICAgdGhpcy5zdWJFeCh0cnVlKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhhdC5jb3VudERvd24oKTsKICAgICAgICB9LCAxMDAwKTsKICAgICAgfQogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoZGF0YSkgewogICAgICByZXR1cm4gcmVxdWVzdCh7CiAgICAgICAgdXJsOiAnL2J1c2luZXNzL3RiUXVlc3Rpb24vc2F2ZUV4YW0nLAogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGRhdGE6IGRhdGEKICAgICAgfSk7CiAgICB9LAogICAgZ2V0RXhhbTogZnVuY3Rpb24gZ2V0RXhhbShzZWFyY2hPYmopIHsKICAgICAgcmV0dXJuIHJlcXVlc3QoewogICAgICAgIHVybDogJy9idXNpbmVzcy90YlF1ZXN0aW9uL215TGlzdCcsCiAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICBwYXJhbXM6IHNlYXJjaE9iagogICAgICB9KTsKICAgIH0sCiAgICBzdWJFeDogZnVuY3Rpb24gc3ViRXgoYXV0bykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5zYXZlKHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09ICcyMDAnKSB7CiAgICAgICAgICBpZiAoYXV0bykgewogICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfogIPor5Xml7bpl7Tlt7Lov4fvvIzlt7Loh6rliqjmj5DkuqTvvIzor7fliY3lvoDmiJHnmoTmiJDnu6nkuK3mn6XnnIvmiJDnu6knKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+iAg+ivleaPkOS6pOaIkOWKn++8jOivt+WJjeW+gOaIkeeahOaIkOe7qeS4reafpeeci+aIkOe7qScpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruiupOaPkOS6pD8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLnN1YkV4KCk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHZhciBlaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5leGFtSWQ7CiAgICB0aGlzLmV4YW1UeXBlID0gdGhpcy4kcm91dGUucXVlcnkudHlwZTsKICAgIHRoaXMuZnJvbVR5cGUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5mcm9tVHlwZTsKICAgIHRoaXMuZm9ybS5yZXN1bHRJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnJlc3VsdElkOwogICAgdGhpcy5mb3JtLmV4YW1JZCA9IGVpZDsKICAgIHZhciBxdWVyeU9iaiA9IHsKICAgICAgZXhhbUlkOiBlaWQsCiAgICAgIHJlc3VsdElkOiB0aGlzLmZvcm0ucmVzdWx0SWQKICAgIH07CiAgICB0aGlzLmdldEV4YW0ocXVlcnlPYmopLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIC8vdGhpcy5saXN0ID0gcmVzcG9uc2UuZGF0YS5saXN0CiAgICAgIF90aGlzMy5mb3JtLnNpZ0xpc3QgPSByZXNwb25zZS5kYXRhLnNpZ0xpc3Q7CiAgICAgIF90aGlzMy5mb3JtLm11bExpc3QgPSByZXNwb25zZS5kYXRhLm11bExpc3Q7CiAgICAgIF90aGlzMy5mb3JtLnBkTGlzdCA9IHJlc3BvbnNlLmRhdGEucGRMaXN0OwogICAgICBfdGhpczMuZm9ybS53ZExpc3QgPSByZXNwb25zZS5kYXRhLndkTGlzdDsgLy8g5pWw5o2u5Yqg6L295bm257uR5a6a5oiQ5YqfCiAgICB9KTsKCiAgICBpZiAodGhpcy5leGFtVHlwZSA9PSAnNTAwMicpIHsKICAgICAgdGhpcy5jb3VudERvd24oKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AAEA;EACAA,IADA,kBACA;IACA;MACAC,cADA;MAEAC;QACAC,WADA;QAEAC,WAFA;QAGAC,UAHA;QAIAC,UAJA;QAKAC,UALA;QAMAC,YANA;QAOAC;MAPA,CAFA;MAWAC,OAXA;MAYAC,OAZA;MAaAC,YAbA;MAcAC;IAdA;EAgBA,CAlBA;EAmBAC;IACAC,SADA,uBACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;MACA;QACA;QACA;UACA;UACA;QACA;;QACAC;UACAC;QACA,CAFA,EAEA,IAFA;MAGA;IACA,CA1BA;IA2BAC,IA3BA,gBA2BAlB,IA3BA,EA2BA;MACA;QACAmB,oCADA;QAEAC,cAFA;QAGApB;MAHA;IAKA,CAjCA;IAkCAqB,OAlCA,mBAkCAC,SAlCA,EAkCA;MACA;QACAH,kCADA;QAEAC,aAFA;QAGAG;MAHA;IAKA,CAxCA;IAyCAC,KAzCA,iBAyCAC,IAzCA,EAyCA;MAAA;;MACA;MACA;QACA;;QACA;UACA;YACA;UACA,CAFA,MAEA;YACA;UACA;QACA;MACA,CATA,EASAC,KATA,CASA;QACA;MACA,CAXA;IAYA,CAvDA;IAwDAC,QAxDA,sBAwDA;MAAA;;MACA;QACAC,uBADA;QAEAC,sBAFA;QAGAC;MAHA,GAIAC,IAJA,CAIA;QACA;MACA,CANA;IAOA;EAhEA,CAnBA;EAuFAC,OAvFA,qBAuFA;IAAA;;IACA;IACA;IACA;IACA;IACA;IACA;MAAAzB;MAAAC;IAAA;IACA,4BACA;MACA;MACA;MACA;MACA;MACA,0CALA,CAMA;IACA,CARA;;IAUA;MACA;IACA;EACA;AA3GA","names":["data","loading","form","sigList","mulList","pdList","wdList","examId","resultId","testList","min","sec","examType","fromType","methods","countDown","setTimeout","that","save","url","method","getExam","searchObj","params","subEx","auto","catch","onSubmit","confirmButtonText","cancelButtonText","type","then","mounted"],"sourceRoot":"src/views/pages/business","sources":["exam.vue"],"sourcesContent":["<template>\n  <el-form ref=\"form\" :model=\"form\" size=\"small\" style=\"margin-left:30px;margin-right:500px\">\n    <div style=\"text-align: center;margin-top: 10px\"><span style=\"font-size: 25px;\"> {{\n        this.$route.query.examTitle\n      }}</span>\n      <span v-if=\"this.examType=='5002'\" style=\"color: red;margin-left: 10px\">剩余时间:{{hr}}小时 {{ min }}分钟 {{ sec }}秒 </span></div>\n    <div style=\"font-size: 20px;margin-bottom: 10px\" v-if=\"form.sigList.length>0\">(一) 单选题</div>\n    <el-form-item v-for=\"(item, index) in form.sigList\"\n                  :label=\"'('+(index+1)+')   '+item.content+':'\">\n      <br/>\n      <el-radio-group v-if=\"item.type=='4001'\" v-model=\"item.myCheck\">\n        <el-radio v-for=\"opitem in item.optionList\" :label=\"opitem.options\">{{opitem.options}}:{{ opitem.name }}</el-radio>\n      </el-radio-group>\n    </el-form-item>\n\n    <div style=\"font-size: 20px;margin-bottom: 10px\" v-if=\"form.mulList.length>0\">(二) 多选题</div>\n    <el-form-item v-for=\"(item, index) in form.mulList\"\n                  :label=\"'('+(index+1)+')   '+item.content+':'\">\n      <br/>\n      <el-checkbox-group  v-if=\"item.type==='4002'\" v-model=\"item.myCheckList\">\n        <el-checkbox  v-for=\"opitem in item.optionList\"\n                     :label=\"opitem.options\">{{opitem.options}}:{{ opitem.name }}</el-checkbox>\n      </el-checkbox-group>\n    </el-form-item>\n\n\n    <div style=\"font-size: 20px;margin-bottom: 10px\" v-if=\"form.pdList.length>0\">(三) 判断题</div>\n    <el-form-item v-for=\"(item, index) in form.pdList\"\n                  :label=\"'('+(index+1)+')   '+item.content+':'\">\n      <br/>\n      <el-radio-group v-if=\"item.type=='4003'\" v-model=\"item.myCheck\">\n        <el-radio v-for=\"opitem in item.optionList\" :label=\"opitem.options\">{{opitem.options}}:{{ opitem.name }}</el-radio>\n      </el-radio-group>\n    </el-form-item>\n\n    <div style=\"font-size: 20px;margin-bottom: 10px\" v-if=\"form.wdList.length>0\">(四) 问答题</div>\n    <el-form-item v-for=\"(item, index) in form.wdList\"\n                  :label=\"'('+(index+1)+')   '+item.content+':'\">\n      <el-input  v-if=\"item.type=='4004'\" style=\"width: 500px\"  v-model=\"item.myAnswer\"  />\n    </el-form-item>\n\n    <div style=\"margin-top: 20px\"/>\n    <el-button type=\"primary\" size=\"mini\" @click=\"onSubmit\" v-loading.fullscreen.lock=\"loading\">提交</el-button>\n    <el-button v-if=\"this.fromType==1\" @click=\"$router.push('/myExam')\" size=\"mini\" icon=\"el-icon-refresh-right\">返回</el-button>\n    <el-button v-else-if=\"this.fromType==2\" @click=\"$router.push('/myScore')\" size=\"mini\" icon=\"el-icon-refresh-right\">返回</el-button>\n  </el-form>\n</template>\n<script>\nimport request from '@/utils/request'\n\nexport default {\n  data() {\n    return {\n      loading: false,\n      form: {\n        sigList: [],\n        mulList: [],\n        pdList: [],\n        wdList: [],\n        examId: '',\n        resultId:'',\n        testList:[]\n      },\n      min: '',\n      sec: '',\n      examType:'',\n      fromType:''\n    }\n  },\n  methods: {\n    countDown() {\n      //const end = Date.parse(new Date('2023-10-02 13:30:00'))\n      const end = Date.parse(new Date(this.$route.query.endTime));\n      const now = Date.parse(new Date())\n      const msec = end - now\n      if (msec < 0) return;\n      let day = parseInt(msec / 1000 / 60 / 60 / 24)\n      let hr = parseInt(msec / 1000 / 60 / 60 % 24)\n      let min = parseInt(msec / 1000 / 60 % 60)\n      let sec = parseInt(msec / 1000 % 60)\n      this.day = day\n      this.hr = hr > 9 ? hr : '0' + hr\n      this.min = min > 9 ? min : '0' + min\n      this.sec = sec > 9 ? sec : '0' + sec\n      const that = this\n      if (min >= 0 && sec >= 0) {\n        //倒计时结束关闭订单\n        if (min == 0 && sec == 0) {\n          this.subEx(true)\n          return\n        }\n        setTimeout(function () {\n          that.countDown()\n        }, 1000)\n      }\n    },\n    save(data) {\n      return request({\n        url: '/business/tbQuestion/saveExam',\n        method: 'post',\n        data: data\n      })\n    },\n    getExam(searchObj) {\n      return request({\n        url: '/business/tbQuestion/myList',\n        method: 'get',\n        params: searchObj\n      })\n    },\n    subEx(auto) {\n      this.loading = true\n      this.save(this.form).then(response => {\n        this.loading = false\n        if (response.code == '200') {\n          if(auto){\n            this.$message.success('考试时间已过，已自动提交，请前往我的成绩中查看成绩')\n          }else{\n            this.$message.success('考试提交成功，请前往我的成绩中查看成绩')\n          }\n        }\n      }).catch(() => {\n        this.loading = false\n      })\n    },\n    onSubmit() {\n      this.$confirm('确认提交?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.subEx()\n      })\n    }\n\n  }\n  ,\n  mounted() {\n    const eid = this.$route.query.examId;\n    this.examType = this.$route.query.type;\n    this.fromType = this.$route.query.fromType;\n    this.form.resultId = this.$route.query.resultId;\n    this.form.examId = eid\n    let queryObj = {examId: eid,resultId:this.form.resultId}\n    this.getExam(queryObj).then(\n      response => {\n        //this.list = response.data.list\n        this.form.sigList = response.data.sigList\n        this.form.mulList = response.data.mulList\n        this.form.pdList = response.data.pdList\n        this.form.wdList = response.data.wdList\n        // 数据加载并绑定成功\n      }\n    )\n    if(this.examType=='5002'){\n      this.countDown()\n    }\n  }\n}\n</script>\n"]}]}