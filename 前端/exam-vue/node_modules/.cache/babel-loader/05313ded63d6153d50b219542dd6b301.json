{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\src\\views\\system\\sysUser\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\src\\views\\system\\sysUser\\list.vue","mtime":1665282231466},{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\babel.config.js","mtime":1637306514000},{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGFwaSBmcm9tICdAL2FwaS9zeXN0ZW0vdXNlcic7CmltcG9ydCByb2xlQXBpIGZyb20gJ0AvYXBpL3N5c3RlbS9yb2xlJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsaXN0TG9hZGluZzogZmFsc2UsCiAgICAgIC8vIOaVsOaNruaYr+WQpuato+WcqOWKoOi9vQogICAgICBsaXN0OiBudWxsLAogICAgICAvLyDliJfooagKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOaVsOaNruW6k+S4reeahOaAu+iusOW9leaVsAogICAgICBwYWdlOiAxLAogICAgICAvLyDpu5jorqTpobXnoIEKICAgICAgbGltaXQ6IDMsCiAgICAgIC8vIOavj+mhteiusOW9leaVsAogICAgICBzZWFyY2hPYmo6IHt9LAogICAgICAvLyDmn6Xor6LooajljZXlr7nosaEKICAgICAgY3JlYXRlVGltZXM6IFtdLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgc3lzVXNlcjoge30sCiAgICAgIGRpYWxvZ1JvbGVWaXNpYmxlOiBmYWxzZSwKICAgICAgYWxsUm9sZXM6IFtdLAogICAgICAvLyDmiYDmnInop5LoibLliJfooagKICAgICAgdXNlclJvbGVJZHM6IFtdLAogICAgICAvLyDnlKjmiLfnmoTop5LoibJJROeahOWIl+ihqAogICAgICBpc0luZGV0ZXJtaW5hdGU6IGZhbHNlLAogICAgICAvLyDmmK/lkKbmmK/kuI3noa7lrprnmoQKICAgICAgY2hlY2tBbGw6IGZhbHNlIC8vIOaYr+WQpuWFqOmAiQoKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy/osIPnlKjliJfooajmlrnms5UKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+WxleekuuWIhumFjeinkuiJsgogICAgc2hvd0Fzc2lnblJvbGU6IGZ1bmN0aW9uIHNob3dBc3NpZ25Sb2xlKHJvdykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5zeXNVc2VyID0gcm93OwogICAgICB0aGlzLmRpYWxvZ1JvbGVWaXNpYmxlID0gdHJ1ZTsKICAgICAgcm9sZUFwaS5nZXRSb2xlc0J5VXNlcklkKHJvdy5pZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5hbGxSb2xlcyA9IHJlc3BvbnNlLmRhdGEuYWxsUm9sZXM7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXMuYWxsUm9sZXMpOwogICAgICAgIF90aGlzLnVzZXJSb2xlSWRzID0gcmVzcG9uc2UuZGF0YS51c2VyUm9sZUlkczsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy51c2VyUm9sZUlkcyk7CiAgICAgICAgX3RoaXMuY2hlY2tBbGwgPSBfdGhpcy51c2VyUm9sZUlkcy5sZW5ndGggPT09IF90aGlzLmFsbFJvbGVzLmxlbmd0aDsKICAgICAgICBfdGhpcy5pc0luZGV0ZXJtaW5hdGUgPSBfdGhpcy51c2VyUm9sZUlkcy5sZW5ndGggPiAwICYmIF90aGlzLnVzZXJSb2xlSWRzLmxlbmd0aCA8IF90aGlzLmFsbFJvbGVzLmxlbmd0aDsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qDQogICAg5YWo6YCJ5Yu+6YCJ54q25oCB5Y+R55Sf5pS55Y+Y55qE55uR5ZCsDQogICAgKi8KICAgIGhhbmRsZUNoZWNrQWxsQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGVja0FsbENoYW5nZSh2YWx1ZSkgewogICAgICAvLyB2YWx1ZSDlvZPliY3li77pgInnirbmgIF0cnVlL2ZhbHNlCiAgICAgIC8vIOWmguaenOW9k+WJjeWFqOmAiSwgdXNlclJvbGVJZHPlsLHmmK/miYDmnInop5LoibJpZOeahOaVsOe7hCwg5ZCm5YiZ5piv56m65pWw57uECiAgICAgIHRoaXMudXNlclJvbGVJZHMgPSB2YWx1ZSA/IHRoaXMuYWxsUm9sZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQ7CiAgICAgIH0pIDogW107IC8vIOWmguaenOW9k+WJjeS4jeaYr+WFqOmAieS5n+S4jeWFqOS4jemAieaXtiwg5oyH5a6a5Li6ZmFsc2UKCiAgICAgIHRoaXMuaXNJbmRldGVybWluYXRlID0gZmFsc2U7CiAgICB9LAoKICAgIC8qDQogICAg6KeS6Imy5YiX6KGo6YCJ5Lit6aG55Y+R55Sf5pS55Y+Y55qE55uR5ZCsDQogICAgKi8KICAgIGhhbmRsZUNoZWNrZWRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoZWNrZWRDaGFuZ2UodmFsdWUpIHsKICAgICAgdmFyIHVzZXJSb2xlSWRzID0gdGhpcy51c2VyUm9sZUlkcywKICAgICAgICAgIGFsbFJvbGVzID0gdGhpcy5hbGxSb2xlczsKICAgICAgdGhpcy5jaGVja0FsbCA9IHVzZXJSb2xlSWRzLmxlbmd0aCA9PT0gYWxsUm9sZXMubGVuZ3RoICYmIGFsbFJvbGVzLmxlbmd0aCA+IDA7CiAgICAgIHRoaXMuaXNJbmRldGVybWluYXRlID0gdXNlclJvbGVJZHMubGVuZ3RoID4gMCAmJiB1c2VyUm9sZUlkcy5sZW5ndGggPCBhbGxSb2xlcy5sZW5ndGg7CiAgICB9LAogICAgLy/liIbphY3op5LoibIKICAgIGFzc2lnblJvbGU6IGZ1bmN0aW9uIGFzc2lnblJvbGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGFzc2dpblJvbGVWbyA9IHsKICAgICAgICB1c2VySWQ6IHRoaXMuc3lzVXNlci5pZCwKICAgICAgICByb2xlSWRMaXN0OiB0aGlzLnVzZXJSb2xlSWRzCiAgICAgIH07CiAgICAgIHJvbGVBcGkuYXNzaWduUm9sZXMoYXNzZ2luUm9sZVZvKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKHJlc3BvbnNlLm1lc3NhZ2UgfHwgJ+WIhumFjeinkuiJsuaIkOWKnycpOwoKICAgICAgICBfdGhpczIuZGlhbG9nUm9sZVZpc2libGUgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMyLmZldGNoRGF0YShfdGhpczIucGFnZSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5pu05pS555So5oi354q25oCBCiAgICBzd2l0Y2hTdGF0dXM6IGZ1bmN0aW9uIHN3aXRjaFN0YXR1cyhyb3cpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvL+WIpOaWre+8jOWmguaenOW9k+WJjeeUqOaIt+WPr+eUqO+8jOS/ruaUueemgeeUqAogICAgICByb3cuc3RhdHVzID0gcm93LnN0YXR1cyA9PT0gMSA/IDAgOiAxOwogICAgICBhcGkudXBkYXRlU3RhdHVzKHJvdy5pZCwgcm93LnN0YXR1cykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2VzcyhyZXNwb25zZS5tZXNzYWdlIHx8ICfmk43kvZzmiJDlip8nKTsKCiAgICAgICAgX3RoaXMzLmZldGNoRGF0YSgpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+WIoOmZpAogICAgcmVtb3ZlRGF0YUJ5SWQ6IGZ1bmN0aW9uIHJlbW92ZURhdGFCeUlkKGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l55So5oi3LCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8v6LCD55So5pa55rOV5Yig6ZmkCiAgICAgICAgYXBpLnJlbW92ZUJ5SWQoaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAvL+aPkOekugogICAgICAgICAgX3RoaXM0LiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScKICAgICAgICAgIH0pOyAvL+WIt+aWsAoKCiAgICAgICAgICBfdGhpczQuZmV0Y2hEYXRhKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5qC55o2uaWTmn6Xor6LvvIzmlbDmja7lm57mmL4KICAgIGVkaXQ6IGZ1bmN0aW9uIGVkaXQoaWQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICAvL+W8ueWHuuahhgogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOyAvL+iwg+eUqOaOpeWPo+afpeivogoKICAgICAgYXBpLmdldFVzZXJJZChpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczUuc3lzVXNlciA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5re75Yqg5oiW6ICF5L+u5pS55pa55rOVCiAgICBzYXZlT3JVcGRhdGU6IGZ1bmN0aW9uIHNhdmVPclVwZGF0ZSgpIHsKICAgICAgaWYgKCF0aGlzLnN5c1VzZXIuaWQpIHsKICAgICAgICB0aGlzLnNhdmUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVwZGF0ZSgpOwogICAgICB9CiAgICB9LAogICAgLy/kv67mlLkKICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGFwaS51cGRhdGUodGhpcy5zeXNVc2VyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8v5o+Q56S6CiAgICAgICAgX3RoaXM2LiRtZXNzYWdlLnN1Y2Nlc3MoJ+aTjeS9nOaIkOWKnycpOyAvL+WFs+mXreW8ueahhgoKCiAgICAgICAgX3RoaXM2LmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsgLy/liLfmlrAKCiAgICAgICAgX3RoaXM2LmZldGNoRGF0YSgpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+a3u+WKoAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICBhcGkuc2F2ZSh0aGlzLnN5c1VzZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy/mj5DnpLoKICAgICAgICBfdGhpczcuJG1lc3NhZ2Uuc3VjY2Vzcygn5pON5L2c5oiQ5YqfJyk7IC8v5YWz6Zet5by55qGGCgoKICAgICAgICBfdGhpczcuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOyAvL+WIt+aWsAoKICAgICAgICBfdGhpczcuZmV0Y2hEYXRhKCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5re75Yqg5by55qGG55qE5pa55rOVCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZCgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5zeXNVc2VyID0ge307CiAgICB9LAogICAgLy8g6YeN572u5p+l6K+i6KGo5Y2VCiAgICByZXNldERhdGE6IGZ1bmN0aW9uIHJlc2V0RGF0YSgpIHsKICAgICAgY29uc29sZS5sb2coJ+mHjee9ruafpeivouihqOWNlScpOwogICAgICB0aGlzLnNlYXJjaE9iaiA9IHt9OwogICAgICB0aGlzLmNyZWF0ZVRpbWVzID0gW107CiAgICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgICB9LAogICAgLy/liJfooagKICAgIGZldGNoRGF0YTogZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHZhciBwYWdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwogICAgICB0aGlzLnBhZ2UgPSBwYWdlOwoKICAgICAgaWYgKHRoaXMuY3JlYXRlVGltZXMgJiYgdGhpcy5jcmVhdGVUaW1lcy5sZW5ndGggPT0gMikgewogICAgICAgIHRoaXMuc2VhcmNoT2JqLmNyZWF0ZVRpbWVCZWdpbiA9IHRoaXMuY3JlYXRlVGltZXNbMF07CiAgICAgICAgdGhpcy5zZWFyY2hPYmouY3JlYXRlVGltZUVuZCA9IHRoaXMuY3JlYXRlVGltZXNbMV07CiAgICAgIH0KCiAgICAgIGFwaS5nZXRQYWdlTGlzdCh0aGlzLnBhZ2UsIHRoaXMubGltaXQsIHRoaXMuc2VhcmNoT2JqKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzOC5saXN0ID0gcmVzcG9uc2UuZGF0YS5yZWNvcmRzOwogICAgICAgIF90aGlzOC50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWw7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AAEA;EACAA,IADA,kBACA;IACA;MACAC,kBADA;MACA;MACAC,UAFA;MAEA;MACAC,QAHA;MAGA;MACAC,OAJA;MAIA;MACAC,QALA;MAKA;MACAC,aANA;MAMA;MAEAC,eARA;MAUAC,oBAVA;MAWAC,WAXA;MAaAC,wBAbA;MAcAC,YAdA;MAcA;MACAC,eAfA;MAeA;MACAC,sBAhBA;MAgBA;MACAC,eAjBA,CAiBA;;IAjBA;EAmBA,CArBA;EAsBAC,OAtBA,qBAsBA;IACA;IACA;EACA,CAzBA;EA0BAC;IACA;IACAC,cAFA,0BAEAC,GAFA,EAEA;MAAA;;MACA;MACA;MACAC;QACA;QACAC;QACA;QACAA;QACA;QACA;MACA,CAPA;IAQA,CAbA;;IAeA;AACA;AACA;IACAC,oBAlBA,gCAkBAC,KAlBA,EAkBA;MAAA;MACA;MACA;QAAA;MAAA,QAFA,CAGA;;MACA;IACA,CAvBA;;IAyBA;AACA;AACA;IACAC,mBA5BA,+BA4BAD,KA5BA,EA4BA;MACA;MAAA;MACA;MACA;IACA,CAhCA;IAkCA;IACAE,UAnCA,wBAmCA;MAAA;;MACA;QACAC,uBADA;QAEAC;MAFA;MAIAP;QACA;;QACA;;QACA;MACA,CAJA;IAKA,CA7CA;IA8CA;IACAQ,YA/CA,wBA+CAT,GA/CA,EA+CA;MAAA;;MACA;MACAA;MACAU,qCACAC,IADA,CACA;QACA;;QACA;MACA,CAJA;IAKA,CAvDA;IAwDA;IACAC,cAzDA,0BAyDAC,EAzDA,EAyDA;MAAA;;MACA;QACAC,uBADA;QAEAC,sBAFA;QAGAC;MAHA,GAIAL,IAJA,CAIA;QACA;QACAD,mBACAC,IADA,CACA;UACA;UACA;YACAK,eADA;YAEAC;UAFA,GAFA,CAMA;;;UACA;QACA,CATA;MAUA,CAhBA;IAiBA,CA3EA;IA4EA;IACAC,IA7EA,gBA6EAL,EA7EA,EA6EA;MAAA;;MACA;MACA,0BAFA,CAGA;;MACAH,kBACAC,IADA,CACA;QACA;MACA,CAHA;IAIA,CArFA;IAsFA;IACAQ,YAvFA,0BAuFA;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CA7FA;IA8FA;IACAC,MA/FA,oBA+FA;MAAA;;MACAV,yBACAC,IADA,CACA;QACA;QACA,gCAFA,CAGA;;;QACA,6BAJA,CAKA;;QACA;MACA,CARA;IASA,CAzGA;IA0GA;IACAU,IA3GA,kBA2GA;MAAA;;MACAX,uBACAC,IADA,CACA;QACA;QACA,gCAFA,CAGA;;;QACA,6BAJA,CAKA;;QACA;MACA,CARA;IASA,CArHA;IAsHA;IACAW,GAvHA,iBAuHA;MACA;MACA;IACA,CA1HA;IA2HA;IACAC,SA5HA,uBA4HA;MACArB;MACA;MACA;MACA;IACA,CAjIA;IAkIA;IACAsB,SAnIA,uBAmIA;MAAA;;MAAA;MACA;;MACA;QACA;QACA;MACA;;MACAd,uDACAC,IADA,CACA;QACA;QACA;MACA,CAJA;IAKA;EA9IA;AA1BA","names":["data","listLoading","list","total","page","limit","searchObj","createTimes","dialogVisible","sysUser","dialogRoleVisible","allRoles","userRoleIds","isIndeterminate","checkAll","created","methods","showAssignRole","row","roleApi","console","handleCheckAllChange","value","handleCheckedChange","assignRole","userId","roleIdList","switchStatus","api","then","removeDataById","id","confirmButtonText","cancelButtonText","type","message","edit","saveOrUpdate","update","save","add","resetData","fetchData"],"sourceRoot":"src/views/system/sysUser","sources":["list.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <div class=\"search-div\">\r\n      <el-form label-width=\"70px\" size=\"small\">\r\n        <el-row>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"关 键 字\">\r\n              <el-input style=\"width: 95%\" v-model=\"searchObj.keyword\" placeholder=\"用户名/姓名/手机号码\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"8\">\r\n            <el-form-item label=\"操作时间\">\r\n              <el-date-picker\r\n                v-model=\"createTimes\"\r\n                type=\"datetimerange\"\r\n                range-separator=\"至\"\r\n                start-placeholder=\"开始时间\"\r\n                end-placeholder=\"结束时间\"\r\n                value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n                style=\"margin-right: 10px;width: 100%;\"\r\n              />\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row style=\"display:flex\">\r\n          <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\"  @click=\"fetchData()\">搜索</el-button>\r\n          <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetData\">重置</el-button>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- 工具条 -->\r\n    <div class=\"tools-div\">\r\n      <el-button type=\"success\" :disabled=\"$hasBP('bnt.sysUser.add')  === false\" icon=\"el-icon-plus\" size=\"mini\" @click=\"add\">添 加</el-button>\r\n    </div>\r\n\r\n\t<!-- 列表 -->\r\n    <el-table\r\n      v-loading=\"listLoading\"\r\n      :data=\"list\"\r\n      stripe\r\n      border\r\n      style=\"width: 100%;margin-top: 10px;\">\r\n\r\n      <el-table-column\r\n        label=\"序号\"\r\n        width=\"70\"\r\n        align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          {{ (page - 1) * limit + scope.$index + 1 }}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column prop=\"username\" label=\"用户名\" width=\"180\"/>\r\n      <el-table-column prop=\"name\" label=\"姓名\" width=\"110\"/>\r\n      <el-table-column prop=\"phone\" label=\"手机\" />\r\n      <el-table-column label=\"状态\" width=\"80\">\r\n        <template slot-scope=\"scope\">\r\n          <el-switch\r\n            v-model=\"scope.row.status===1\"\r\n            @change=\"switchStatus(scope.row)\">\r\n          </el-switch>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"createTime\" label=\"创建时间\" />\r\n\r\n      <el-table-column label=\"操作\"  align=\"center\" fixed=\"right\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"edit(scope.row.id)\" title=\"修改\"/>\r\n          <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removeDataById(scope.row.id)\" title=\"删除\" />\r\n           <el-button type=\"warning\" icon=\"el-icon-baseball\" size=\"mini\" @click=\"showAssignRole(scope.row)\" title=\"分配角色\"/>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 分页组件 -->\r\n    <el-pagination\r\n      :current-page=\"page\"\r\n      :total=\"total\"\r\n      :page-size=\"limit\"\r\n      style=\"padding: 30px 0; text-align: center;\"\r\n      layout=\"total, prev, pager, next, jumper\"\r\n      @current-change=\"fetchData\"\r\n    />\r\n\r\n    <el-dialog title=\"分配角色\" :visible.sync=\"dialogRoleVisible\">\r\n      <el-form label-width=\"80px\">\r\n        <el-form-item label=\"用户名\">\r\n          <el-input disabled :value=\"sysUser.username\"></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"角色列表\">\r\n          <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选</el-checkbox>\r\n          <div style=\"margin: 15px 0;\"></div>\r\n          <el-checkbox-group v-model=\"userRoleIds\" @change=\"handleCheckedChange\">\r\n            <el-checkbox v-for=\"role in allRoles\" :key=\"role.id\" :label=\"role.id\">{{role.roleName}}</el-checkbox>\r\n          </el-checkbox-group>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button type=\"primary\" @click=\"assignRole\" size=\"small\">保存</el-button>\r\n        <el-button @click=\"dialogRoleVisible = false\" size=\"small\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"添加/修改\" :visible.sync=\"dialogVisible\" width=\"40%\" >\r\n      <el-form ref=\"dataForm\" :model=\"sysUser\"  label-width=\"100px\" size=\"small\" style=\"padding-right: 40px;\">\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"sysUser.username\"/>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"!sysUser.id\" label=\"密码\" prop=\"password\">\r\n          <el-input v-model=\"sysUser.password\" type=\"password\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"姓名\" prop=\"name\">\r\n          <el-input v-model=\"sysUser.name\"/>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机\" prop=\"phone\">\r\n          <el-input v-model=\"sysUser.phone\"/>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\" size=\"small\" icon=\"el-icon-refresh-right\">取 消</el-button>\r\n        <el-button type=\"primary\" icon=\"el-icon-check\" @click=\"saveOrUpdate()\" size=\"small\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nimport api from '@/api/system/user'\r\nimport roleApi from '@/api/system/role'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      listLoading: false, // 数据是否正在加载\r\n      list: null, // 列表\r\n      total: 0, // 数据库中的总记录数\r\n      page: 1, // 默认页码\r\n      limit: 3, // 每页记录数\r\n      searchObj: {}, // 查询表单对象\r\n\r\n      createTimes: [],\r\n\r\n      dialogVisible: false,\r\n      sysUser: {},\r\n\r\n      dialogRoleVisible: false,\r\n      allRoles: [], // 所有角色列表\r\n      userRoleIds: [], // 用户的角色ID的列表\r\n      isIndeterminate: false, // 是否是不确定的\r\n      checkAll: false // 是否全选\r\n    }\r\n  },\r\n  created() {\r\n    //调用列表方法\r\n    this.fetchData()\r\n  },\r\n  methods:{\r\n    //展示分配角色\r\n    showAssignRole (row) {\r\n      this.sysUser = row\r\n      this.dialogRoleVisible = true\r\n       roleApi.getRolesByUserId(row.id).then(response => {\r\n        this.allRoles = response.data.allRoles\r\n        console.log(this.allRoles)\r\n        this.userRoleIds = response.data.userRoleIds\r\n        console.log(this.userRoleIds)\r\n        this.checkAll = this.userRoleIds.length===this.allRoles.length\r\n        this.isIndeterminate = this.userRoleIds.length>0 && this.userRoleIds.length<this.allRoles.length\r\n      })\r\n    },\r\n\r\n    /*\r\n    全选勾选状态发生改变的监听\r\n    */\r\n    handleCheckAllChange (value) {// value 当前勾选状态true/false\r\n      // 如果当前全选, userRoleIds就是所有角色id的数组, 否则是空数组\r\n      this.userRoleIds = value ? this.allRoles.map(item => item.id) : []\r\n      // 如果当前不是全选也不全不选时, 指定为false\r\n      this.isIndeterminate = false\r\n    },\r\n\r\n    /*\r\n    角色列表选中项发生改变的监听\r\n    */\r\n    handleCheckedChange (value) {\r\n      const {userRoleIds, allRoles} = this\r\n      this.checkAll = userRoleIds.length === allRoles.length && allRoles.length>0\r\n      this.isIndeterminate = userRoleIds.length>0 && userRoleIds.length<allRoles.length\r\n    },\r\n\r\n    //分配角色\r\n    assignRole () {\r\n      let assginRoleVo = {\r\n        userId: this.sysUser.id,\r\n        roleIdList: this.userRoleIds\r\n      }\r\n      roleApi.assignRoles(assginRoleVo).then(response => {\r\n        this.$message.success(response.message || '分配角色成功')\r\n        this.dialogRoleVisible = false\r\n        this.fetchData(this.page)\r\n      })\r\n    },\r\n    //更改用户状态\r\n    switchStatus(row) {\r\n      //判断，如果当前用户可用，修改禁用\r\n      row.status = row.status === 1 ? 0 : 1\r\n      api.updateStatus(row.id,row.status)\r\n        .then(response => {\r\n          this.$message.success(response.message || '操作成功')\r\n          this.fetchData()\r\n        })\r\n    },\r\n    //删除\r\n    removeDataById(id) {\r\n        this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          //调用方法删除\r\n          api.removeById(id)\r\n            .then(response => {\r\n              //提示\r\n              this.$message({\r\n                type: 'success',\r\n                message: '删除成功!'\r\n              });\r\n              //刷新\r\n              this.fetchData()\r\n          })\r\n        })\r\n    },\r\n    //根据id查询，数据回显\r\n    edit(id) {\r\n      //弹出框\r\n      this.dialogVisible = true\r\n      //调用接口查询\r\n      api.getUserId(id)\r\n        .then(response => {\r\n          this.sysUser = response.data\r\n        })\r\n    },\r\n    //添加或者修改方法\r\n    saveOrUpdate() {\r\n      if(!this.sysUser.id) {\r\n        this.save()\r\n      } else {\r\n        this.update()\r\n      }\r\n    },\r\n    //修改\r\n    update() {\r\n      api.update(this.sysUser)\r\n        .then(response => {\r\n          //提示\r\n          this.$message.success('操作成功')\r\n          //关闭弹框\r\n          this.dialogVisible = false\r\n          //刷新\r\n          this.fetchData()\r\n        })\r\n    },\r\n    //添加\r\n    save() {\r\n      api.save(this.sysUser)\r\n        .then(response => {\r\n          //提示\r\n          this.$message.success('操作成功')\r\n          //关闭弹框\r\n          this.dialogVisible = false\r\n          //刷新\r\n          this.fetchData()\r\n        })\r\n    },\r\n    //添加弹框的方法\r\n    add() {\r\n      this.dialogVisible = true\r\n      this.sysUser = {}\r\n    },\r\n    // 重置查询表单\r\n    resetData() {\r\n      console.log('重置查询表单')\r\n      this.searchObj = {}\r\n      this.createTimes = []\r\n      this.fetchData()\r\n    },\r\n    //列表\r\n    fetchData(page=1) {\r\n      this.page = page\r\n      if(this.createTimes && this.createTimes.length==2) {\r\n        this.searchObj.createTimeBegin = this.createTimes[0]\r\n        this.searchObj.createTimeEnd = this.createTimes[1]\r\n      }\r\n      api.getPageList(this.page,this.limit,this.searchObj)\r\n        .then(response => {\r\n          this.list = response.data.records\r\n          this.total = response.data.total\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>"]}]}