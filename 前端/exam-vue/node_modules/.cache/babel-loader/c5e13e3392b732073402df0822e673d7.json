{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\src\\views\\system\\sysRole\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\src\\views\\system\\sysRole\\list.vue","mtime":1665211169455},{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\babel.config.js","mtime":1637306514000},{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy/lvJXlhaXlrprkuYnmjqXlj6PnmoRqc+aWh+S7tgppbXBvcnQgYXBpIGZyb20gJ0AvYXBpL3N5c3RlbS9yb2xlJzsKZXhwb3J0IGRlZmF1bHQgewogIC8v5a6a5LmJ5Yid5aeL5YC8CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3RMb2FkaW5nOiBmYWxzZSwKICAgICAgLy/mmK/lkKbmmL7npLrliqDovb0KICAgICAgbGlzdDogW10sCiAgICAgIC8v6KeS6Imy5YiX6KGoCiAgICAgIHRvdGFsOiAwLAogICAgICAvL+aAu+iusOW9leaVsAogICAgICBwYWdlOiAxLAogICAgICAvL+W9k+WJjemhtQogICAgICBsaW1pdDogMywKICAgICAgLy/mr4/pobXmmL7npLrorrDlvZXmlbAKICAgICAgc2VhcmNoT2JqOiB7fSwKICAgICAgLy/mnaHku7bmn6Xor6LlsIHoo4Xlr7nosaEKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIC8v5by55Ye65qGGCiAgICAgIHN5c1JvbGU6IHt9LAogICAgICAvL+Wwgeijhea3u+WKoOihqOWNleaVsOaNrgogICAgICBzZWxlY3RWYWx1ZTogW10gLy/lpI3pgInmoYbpgInmi6nlhoXlrrnlsIHoo4XmlbDnu4QKCiAgICB9OwogIH0sCiAgLy/pobXpnaLmuLLmn5PkuYvliY3miafooYwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy/osIPnlKjliJfooajmlrnms5UKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+WFt+S9k+aWueazlQogICAgLy/ot7PovazliIbphY3oj5zljZXmnYPpmZAKICAgIHNob3dBc3NpZ25BdXRoOiBmdW5jdGlvbiBzaG93QXNzaWduQXV0aChyb3cpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9zeXN0ZW0vYXNzaWduQXV0aD9pZD0nICsgcm93LmlkICsgJyZyb2xlTmFtZT0nICsgcm93LnJvbGVOYW1lKTsKICAgIH0sCiAgICAvL+WkjemAieahhuWPkeeUn+WPmOWMluaJp+ihjOaWueazlQogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuc2VsZWN0VmFsdWUgPSBzZWxlY3Rpb247IC8vY29uc29sZS5sb2codGhpcy5zZWxlY3RWYWx1ZSkKICAgIH0sCiAgICAvL+aJuemHj+WIoOmZpAogICAgYmF0Y2hSZW1vdmU6IGZ1bmN0aW9uIGJhdGNoUmVtb3ZlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy/liKTmlq0KICAgICAgaWYgKHRoaXMuc2VsZWN0VmFsdWUubGVuZ3RoID09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+mAieaLqeimgeWIoOmZpOeahOiusOW9le+8gScpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l6KeS6ImyLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8v5pWw57uECiAgICAgICAgdmFyIGlkTGlzdCA9IFtdOyAvL+iOt+WPluWkmuS4quWkjemAieahhuWvueW6lGlk77yM5bCB6KOF5Yiw5pWw57uE6YeM6Z2iCiAgICAgICAgLy8gWzEsMiwzXQoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLnNlbGVjdFZhbHVlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgb2JqID0gX3RoaXMuc2VsZWN0VmFsdWVbaV07IC8vaWTlgLwKCiAgICAgICAgICB2YXIgaWQgPSBvYmouaWQ7IC8v5pS+5Yiw5pWw57uE6YeM6Z2iCgogICAgICAgICAgaWRMaXN0LnB1c2goaWQpOwogICAgICAgIH0KCiAgICAgICAgYXBpLmJhdGNoUmVtb3ZlKGlkTGlzdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIC8v5o+Q56S6CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnCiAgICAgICAgICB9KTsgLy/liLfmlrAKCgogICAgICAgICAgX3RoaXMuZmV0Y2hEYXRhKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5L+u5pS5LeaVsOaNruWbnuaYvgogICAgZWRpdDogZnVuY3Rpb24gZWRpdChpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8v5by55Ye65qGGCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIGFwaS5nZXRSb2xlSWQoaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLnN5c1JvbGUgPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvL+eCueWHu+ehruWumgogICAgc2F2ZU9yVXBkYXRlOiBmdW5jdGlvbiBzYXZlT3JVcGRhdGUoKSB7CiAgICAgIC8v5Yik5pat5re75Yqg6L+Y5piv5L+u5pS5CiAgICAgIGlmICghdGhpcy5zeXNSb2xlLmlkKSB7CiAgICAgICAgLy/mt7vliqAKICAgICAgICB0aGlzLnNhdmVSb2xlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51cGRhdGVSb2xlKCk7CiAgICAgIH0KICAgIH0sCiAgICAvL+S/ruaUueeahOaWueazlQogICAgdXBkYXRlUm9sZTogZnVuY3Rpb24gdXBkYXRlUm9sZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBhcGkudXBkYXRlKHRoaXMuc3lzUm9sZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvL+aPkOekugogICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn5L+u5pS55oiQ5YqfIScKICAgICAgICB9KTsgLy/lhbPpl63lvLnmoYYKCgogICAgICAgIF90aGlzMy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7IC8v5Yi35paw6aG16Z2iCgogICAgICAgIF90aGlzMy5mZXRjaERhdGEoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/mt7vliqDnmoTmlrnms5UKICAgIHNhdmVSb2xlOiBmdW5jdGlvbiBzYXZlUm9sZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBhcGkuc2F2ZVJvbGUodGhpcy5zeXNSb2xlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8v5o+Q56S6CiAgICAgICAgX3RoaXM0LiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICfmt7vliqDmiJDlip8hJwogICAgICAgIH0pOyAvL+WFs+mXreW8ueahhgoKCiAgICAgICAgX3RoaXM0LmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsgLy/liLfmlrDpobXpnaIKCiAgICAgICAgX3RoaXM0LmZldGNoRGF0YSgpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+eCueWHu+a3u+WKoO+8jOW8ueWHuuahhgogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuc3lzUm9sZSA9IHt9OwogICAgfSwKICAgIC8v5Yig6ZmkCiAgICByZW1vdmVEYXRhQnlJZDogZnVuY3Rpb24gcmVtb3ZlRGF0YUJ5SWQoaWQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6Xop5LoibIsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgLy/osIPnlKjmlrnms5XliKDpmaQKICAgICAgICBhcGkucmVtb3ZlSWQoaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAvL+aPkOekugogICAgICAgICAgX3RoaXM1LiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScKICAgICAgICAgIH0pOyAvL+WIt+aWsAoKCiAgICAgICAgICBfdGhpczUuZmV0Y2hEYXRhKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v6YeN572uCiAgICByZXNldERhdGE6IGZ1bmN0aW9uIHJlc2V0RGF0YSgpIHsKICAgICAgLy/muIXnqbrooajljZUKICAgICAgdGhpcy5zZWFyY2hPYmogPSB7fTsgLy/mn6Xor6LmiYDmnInmlbDmja4KCiAgICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgICB9LAogICAgLy/mnaHku7bliIbpobXmn6Xor6LliJfooagKICAgIC8vcGFnZU51bSDmn6Xor6LpobXmlbAKICAgIGZldGNoRGF0YTogZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHZhciBwYWdlTnVtID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwogICAgICAvL+mhteaVsOi1i+WAvAogICAgICB0aGlzLnBhZ2UgPSBwYWdlTnVtOyAvL2FqYXgKCiAgICAgIGFwaS5nZXRQYWdlTGlzdCh0aGlzLnBhZ2UsIHRoaXMubGltaXQsIHRoaXMuc2VhcmNoT2JqKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlCiAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwb25zZSkKICAgICAgICAvL+avj+mhteaVsOaNruWIl+ihqAogICAgICAgIF90aGlzNi5saXN0ID0gcmVzcG9uc2UuZGF0YS5yZWNvcmRzOyAvL+aAu+iusOW9leaVsAoKICAgICAgICBfdGhpczYudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AAEA;EACA;EACAA,IAFA,kBAEA;IACA;MACAC,kBADA;MACA;MACAC,QAFA;MAEA;MACAC,QAHA;MAGA;MACAC,OAJA;MAIA;MACAC,QALA;MAKA;MACAC,aANA;MAMA;MAEAC,oBARA;MAQA;MACAC,WATA;MASA;MACAC,eAVA,CAUA;;IAVA;EAYA,CAfA;EAgBA;EACAC,OAjBA,qBAiBA;IACA;IACA;EACA,CApBA;EAqBAC;IAAA;IACA;IACAC,cAFA,0BAEAC,GAFA,EAEA;MACA;IACA,CAJA;IAKA;IACAC,qBANA,iCAMAC,SANA,EAMA;MACA,6BADA,CAEA;IACA,CATA;IAUA;IACAC,WAXA,yBAWA;MAAA;;MACA;MACA;QACA;QACA;MACA;;MACA;QACAC,uBADA;QAEAC,sBAFA;QAGAC;MAHA,GAIAC,IAJA,CAIA;QACA;QACA,gBAFA,CAGA;QACA;;QACA;UACA,+BADA,CAEA;;UACA,gBAHA,CAIA;;UACAC;QACA;;QACAC;UACA;UACA;YACAH,eADA;YAEAI;UAFA,GAFA,CAMA;;;UACA;QACA,CARA;MASA,CAzBA;IA0BA,CA3CA;IA4CA;IACAC,IA7CA,gBA6CAC,EA7CA,EA6CA;MAAA;;MACA;MACA;MACAH;QACA;MACA,CAFA;IAGA,CAnDA;IAoDA;IACAI,YArDA,0BAqDA;MACA;MACA;QACA;QACA;MACA,CAHA,MAGA;QACA;MACA;IACA,CA7DA;IA8DA;IACAC,UA/DA,wBA+DA;MAAA;;MACAL,yBACAF,IADA,CACA;QACA;QACA;UACAD,eADA;UAEAI;QAFA,GAFA,CAMA;;;QACA,6BAPA,CAQA;;QACA;MACA,CAXA;IAYA,CA5EA;IA6EA;IACAK,QA9EA,sBA8EA;MAAA;;MACAN,2BACAF,IADA,CACA;QACA;QACA;UACAD,eADA;UAEAI;QAFA,GAFA,CAMA;;;QACA,6BAPA,CAQA;;QACA;MACA,CAXA;IAYA,CA3FA;IA4FA;IACAM,GA7FA,iBA6FA;MACA;MACA;IACA,CAhGA;IAiGA;IACAC,cAlGA,0BAkGAL,EAlGA,EAkGA;MAAA;;MACA;QACAR,uBADA;QAEAC,sBAFA;QAGAC;MAHA,GAIAC,IAJA,CAIA;QACA;QACAE,iBACAF,IADA,CACA;UACA;UACA;YACAD,eADA;YAEAI;UAFA,GAFA,CAMA;;;UACA;QACA,CATA;MAUA,CAhBA;IAiBA,CApHA;IAqHA;IACAQ,SAtHA,uBAsHA;MACA;MACA,oBAFA,CAGA;;MACA;IACA,CA3HA;IA4HA;IACA;IACAC,SA9HA,uBA8HA;MAAA;;MAAA;MACA;MACA,oBAFA,CAGA;;MACAV,uDACAF,IADA,CACA;QACA;QACA;QACA;QACA,oCAJA,CAKA;;QACA;MACA,CARA;IASA;EA3IA;AArBA","names":["data","listLoading","list","total","page","limit","searchObj","dialogVisible","sysRole","selectValue","created","methods","showAssignAuth","row","handleSelectionChange","selection","batchRemove","confirmButtonText","cancelButtonText","type","then","idList","api","message","edit","id","saveOrUpdate","updateRole","saveRole","add","removeDataById","resetData","fetchData"],"sourceRoot":"src/views/system/sysRole","sources":["list.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    角色列表\r\n    <!--查询表单-->\r\n    <div class=\"search-div\">\r\n      <el-form label-width=\"70px\" size=\"small\">\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"角色名称\">\r\n              <el-input style=\"width: 100%\" v-model=\"searchObj.roleName\" placeholder=\"角色名称\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row style=\"display:flex\">\r\n          <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\"  @click=\"fetchData()\">搜索</el-button>\r\n          <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetData\">重置</el-button>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n    <!-- 工具条 -->\r\n  <div class=\"tools-div\">\r\n    <el-button type=\"success\" icon=\"el-icon-plus\" size=\"mini\" @click=\"add\">添 加</el-button>\r\n    <el-button class=\"btn-add\" size=\"mini\" @click=\"batchRemove()\" >批量删除</el-button>\r\n  </div>\r\n    <!-- 表格 -->\r\n    <el-table\r\n      v-loading=\"listLoading\"\r\n      :data=\"list\"\r\n      stripe\r\n      border\r\n      style=\"width: 100%;margin-top: 10px;\"\r\n      @selection-change=\"handleSelectionChange\">\r\n\r\n      <el-table-column type=\"selection\"/>\r\n\r\n      <el-table-column\r\n        label=\"序号\"\r\n        width=\"70\"\r\n        align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          {{ (page - 1) * limit + scope.$index + 1 }}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column prop=\"roleName\" label=\"角色名称\" />\r\n      <el-table-column prop=\"roleCode\" label=\"角色编码\" />\r\n      <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"160\"/>\r\n      <el-table-column label=\"操作\" width=\"200\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"edit(scope.row.id)\" title=\"修改\"/>\r\n          <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removeDataById(scope.row.id)\" title=\"删除\"/>\r\n          <el-button type=\"warning\" icon=\"el-icon-baseball\" size=\"mini\" @click=\"showAssignAuth(scope.row)\" title=\"分配权限\"/>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n  <!-- 分页组件 -->\r\n    <el-pagination\r\n      :current-page=\"page\"\r\n      :total=\"total\"\r\n      :page-size=\"limit\"\r\n      style=\"padding: 30px 0; text-align: center;\"\r\n      layout=\"total, prev, pager, next, jumper\"\r\n      @current-change=\"fetchData\"\r\n    />\r\n\r\n    <el-dialog title=\"添加/修改\" :visible.sync=\"dialogVisible\" width=\"40%\" >\r\n          <el-form ref=\"dataForm\" :model=\"sysRole\" label-width=\"150px\" size=\"small\" style=\"padding-right: 40px;\">\r\n            <el-form-item label=\"角色名称\">\r\n              <el-input v-model=\"sysRole.roleName\"/>\r\n            </el-form-item>\r\n            <el-form-item label=\"角色编码\">\r\n              <el-input v-model=\"sysRole.roleCode\"/>\r\n            </el-form-item>\r\n          </el-form>\r\n          <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible = false\" size=\"small\" icon=\"el-icon-refresh-right\">取 消</el-button>\r\n            <el-button type=\"primary\" icon=\"el-icon-check\" @click=\"saveOrUpdate()\" size=\"small\">确 定</el-button>\r\n          </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n//引入定义接口的js文件\r\nimport api from '@/api/system/role'\r\n\r\nexport default {\r\n  //定义初始值\r\n  data() {\r\n    return {\r\n      listLoading:false,//是否显示加载\r\n      list:[],//角色列表\r\n      total:0,//总记录数\r\n      page:1,//当前页\r\n      limit:3,//每页显示记录数\r\n      searchObj:{},//条件查询封装对象\r\n\r\n      dialogVisible: false,//弹出框\r\n      sysRole:{}, //封装添加表单数据\r\n      selectValue:[] //复选框选择内容封装数组\r\n    }\r\n  },\r\n  //页面渲染之前执行\r\n  created() {\r\n    //调用列表方法\r\n    this.fetchData()\r\n  },\r\n  methods:{//具体方法\r\n    //跳转分配菜单权限\r\n    showAssignAuth(row) {\r\n      this.$router.push('/system/assignAuth?id='+row.id+'&roleName='+row.roleName);\r\n    },\r\n    //复选框发生变化执行方法\r\n    handleSelectionChange(selection) {\r\n      this.selectValue = selection\r\n      //console.log(this.selectValue)\r\n    },\r\n    //批量删除\r\n    batchRemove() {\r\n      //判断\r\n      if(this.selectValue.length==0) {\r\n        this.$message.warning('请选择要删除的记录！')\r\n        return\r\n      }\r\n      this.$confirm('此操作将永久删除该角色, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          //数组\r\n          var idList = []\r\n          //获取多个复选框对应id，封装到数组里面\r\n          // [1,2,3]\r\n          for(var i=0;i<this.selectValue.length;i++) {\r\n            var obj = this.selectValue[i]\r\n            //id值\r\n            var id = obj.id\r\n            //放到数组里面\r\n            idList.push(id)\r\n          }\r\n          api.batchRemove(idList).then(response => {\r\n              //提示\r\n              this.$message({\r\n                type: 'success',\r\n                message: '删除成功!'\r\n              });\r\n              //刷新\r\n              this.fetchData()\r\n          })\r\n        })\r\n    },\r\n    //修改-数据回显\r\n    edit(id) {\r\n      //弹出框\r\n      this.dialogVisible = true\r\n      api.getRoleId(id).then(response => {\r\n        this.sysRole = response.data\r\n      })\r\n    },\r\n    //点击确定\r\n    saveOrUpdate() {\r\n      //判断添加还是修改\r\n      if(!this.sysRole.id) {\r\n        //添加\r\n        this.saveRole()\r\n      } else {\r\n        this.updateRole()\r\n      }\r\n    },\r\n    //修改的方法\r\n    updateRole() {\r\n      api.update(this.sysRole)\r\n        .then(response => {\r\n          //提示\r\n          this.$message({\r\n            type: 'success',\r\n            message: '修改成功!'\r\n          });\r\n          //关闭弹框\r\n          this.dialogVisible = false\r\n          //刷新页面\r\n          this.fetchData()\r\n        })\r\n    },\r\n    //添加的方法\r\n    saveRole() {\r\n      api.saveRole(this.sysRole)\r\n        .then(response => {\r\n          //提示\r\n          this.$message({\r\n            type: 'success',\r\n            message: '添加成功!'\r\n          });\r\n          //关闭弹框\r\n          this.dialogVisible = false\r\n          //刷新页面\r\n          this.fetchData()\r\n        })\r\n    },\r\n    //点击添加，弹出框\r\n    add() {\r\n      this.dialogVisible = true\r\n      this.sysRole = {}\r\n    },\r\n    //删除\r\n    removeDataById(id) {\r\n       this.$confirm('此操作将永久删除该角色, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          //调用方法删除\r\n          api.removeId(id)\r\n            .then(response => {\r\n              //提示\r\n              this.$message({\r\n                type: 'success',\r\n                message: '删除成功!'\r\n              });\r\n              //刷新\r\n              this.fetchData()\r\n          })\r\n        })\r\n    },\r\n    //重置\r\n    resetData() {\r\n      //清空表单\r\n      this.searchObj = {}\r\n      //查询所有数据\r\n      this.fetchData()\r\n    },\r\n    //条件分页查询列表\r\n    //pageNum 查询页数\r\n    fetchData(pageNum=1) {\r\n      //页数赋值\r\n      this.page = pageNum\r\n      //ajax\r\n      api.getPageList(this.page,this.limit,this.searchObj)\r\n        .then(response => {\r\n          //this.listLoading = false\r\n          //console.log(response)\r\n          //每页数据列表\r\n          this.list = response.data.records\r\n          //总记录数\r\n          this.total = response.data.total\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>"]}]}