{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\src\\views\\system\\sysRole\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\src\\views\\system\\sysRole\\list.vue","mtime":1665211169455},{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\sys_manage\\code\\guigu-system-front\\system-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL+W8leWFpeWumuS5ieaOpeWPo+eahGpz5paH5Lu2DQppbXBvcnQgYXBpIGZyb20gJ0AvYXBpL3N5c3RlbS9yb2xlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIC8v5a6a5LmJ5Yid5aeL5YC8DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxpc3RMb2FkaW5nOmZhbHNlLC8v5piv5ZCm5pi+56S65Yqg6L29DQogICAgICBsaXN0OltdLC8v6KeS6Imy5YiX6KGoDQogICAgICB0b3RhbDowLC8v5oC76K6w5b2V5pWwDQogICAgICBwYWdlOjEsLy/lvZPliY3pobUNCiAgICAgIGxpbWl0OjMsLy/mr4/pobXmmL7npLrorrDlvZXmlbANCiAgICAgIHNlYXJjaE9iajp7fSwvL+adoeS7tuafpeivouWwgeijheWvueixoQ0KDQogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwvL+W8ueWHuuahhg0KICAgICAgc3lzUm9sZTp7fSwgLy/lsIHoo4Xmt7vliqDooajljZXmlbDmja4NCiAgICAgIHNlbGVjdFZhbHVlOltdIC8v5aSN6YCJ5qGG6YCJ5oup5YaF5a655bCB6KOF5pWw57uEDQogICAgfQ0KICB9LA0KICAvL+mhtemdoua4suafk+S5i+WJjeaJp+ihjA0KICBjcmVhdGVkKCkgew0KICAgIC8v6LCD55So5YiX6KGo5pa55rOVDQogICAgdGhpcy5mZXRjaERhdGEoKQ0KICB9LA0KICBtZXRob2RzOnsvL+WFt+S9k+aWueazlQ0KICAgIC8v6Lez6L2s5YiG6YWN6I+c5Y2V5p2D6ZmQDQogICAgc2hvd0Fzc2lnbkF1dGgocm93KSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3N5c3RlbS9hc3NpZ25BdXRoP2lkPScrcm93LmlkKycmcm9sZU5hbWU9Jytyb3cucm9sZU5hbWUpOw0KICAgIH0sDQogICAgLy/lpI3pgInmoYblj5HnlJ/lj5jljJbmiafooYzmlrnms5UNCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7DQogICAgICB0aGlzLnNlbGVjdFZhbHVlID0gc2VsZWN0aW9uDQogICAgICAvL2NvbnNvbGUubG9nKHRoaXMuc2VsZWN0VmFsdWUpDQogICAgfSwNCiAgICAvL+aJuemHj+WIoOmZpA0KICAgIGJhdGNoUmVtb3ZlKCkgew0KICAgICAgLy/liKTmlq0NCiAgICAgIGlmKHRoaXMuc2VsZWN0VmFsdWUubGVuZ3RoPT0wKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36YCJ5oup6KaB5Yig6Zmk55qE6K6w5b2V77yBJykNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6Xop5LoibIsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6Jywgew0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgICAgLy/mlbDnu4QNCiAgICAgICAgICB2YXIgaWRMaXN0ID0gW10NCiAgICAgICAgICAvL+iOt+WPluWkmuS4quWkjemAieahhuWvueW6lGlk77yM5bCB6KOF5Yiw5pWw57uE6YeM6Z2iDQogICAgICAgICAgLy8gWzEsMiwzXQ0KICAgICAgICAgIGZvcih2YXIgaT0wO2k8dGhpcy5zZWxlY3RWYWx1ZS5sZW5ndGg7aSsrKSB7DQogICAgICAgICAgICB2YXIgb2JqID0gdGhpcy5zZWxlY3RWYWx1ZVtpXQ0KICAgICAgICAgICAgLy9pZOWAvA0KICAgICAgICAgICAgdmFyIGlkID0gb2JqLmlkDQogICAgICAgICAgICAvL+aUvuWIsOaVsOe7hOmHjOmdog0KICAgICAgICAgICAgaWRMaXN0LnB1c2goaWQpDQogICAgICAgICAgfQ0KICAgICAgICAgIGFwaS5iYXRjaFJlbW92ZShpZExpc3QpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAvL+aPkOekug0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnDQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAvL+WIt+aWsA0KICAgICAgICAgICAgICB0aGlzLmZldGNoRGF0YSgpDQogICAgICAgICAgfSkNCiAgICAgICAgfSkNCiAgICB9LA0KICAgIC8v5L+u5pS5LeaVsOaNruWbnuaYvg0KICAgIGVkaXQoaWQpIHsNCiAgICAgIC8v5by55Ye65qGGDQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlDQogICAgICBhcGkuZ2V0Um9sZUlkKGlkKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgdGhpcy5zeXNSb2xlID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8v54K55Ye756Gu5a6aDQogICAgc2F2ZU9yVXBkYXRlKCkgew0KICAgICAgLy/liKTmlq3mt7vliqDov5jmmK/kv67mlLkNCiAgICAgIGlmKCF0aGlzLnN5c1JvbGUuaWQpIHsNCiAgICAgICAgLy/mt7vliqANCiAgICAgICAgdGhpcy5zYXZlUm9sZSgpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnVwZGF0ZVJvbGUoKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy/kv67mlLnnmoTmlrnms5UNCiAgICB1cGRhdGVSb2xlKCkgew0KICAgICAgYXBpLnVwZGF0ZSh0aGlzLnN5c1JvbGUpDQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAvL+aPkOekug0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+S/ruaUueaIkOWKnyEnDQogICAgICAgICAgfSk7DQogICAgICAgICAgLy/lhbPpl63lvLnmoYYNCiAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQ0KICAgICAgICAgIC8v5Yi35paw6aG16Z2iDQogICAgICAgICAgdGhpcy5mZXRjaERhdGEoKQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgLy/mt7vliqDnmoTmlrnms5UNCiAgICBzYXZlUm9sZSgpIHsNCiAgICAgIGFwaS5zYXZlUm9sZSh0aGlzLnN5c1JvbGUpDQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAvL+aPkOekug0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+a3u+WKoOaIkOWKnyEnDQogICAgICAgICAgfSk7DQogICAgICAgICAgLy/lhbPpl63lvLnmoYYNCiAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQ0KICAgICAgICAgIC8v5Yi35paw6aG16Z2iDQogICAgICAgICAgdGhpcy5mZXRjaERhdGEoKQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgLy/ngrnlh7vmt7vliqDvvIzlvLnlh7rmoYYNCiAgICBhZGQoKSB7DQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlDQogICAgICB0aGlzLnN5c1JvbGUgPSB7fQ0KICAgIH0sDQogICAgLy/liKDpmaQNCiAgICByZW1vdmVEYXRhQnlJZChpZCkgew0KICAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpeinkuiJsiwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7DQogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLA0KICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgICAvL+iwg+eUqOaWueazleWIoOmZpA0KICAgICAgICAgIGFwaS5yZW1vdmVJZChpZCkNCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgLy/mj5DnpLoNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJw0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgLy/liLfmlrANCiAgICAgICAgICAgICAgdGhpcy5mZXRjaERhdGEoKQ0KICAgICAgICAgIH0pDQogICAgICAgIH0pDQogICAgfSwNCiAgICAvL+mHjee9rg0KICAgIHJlc2V0RGF0YSgpIHsNCiAgICAgIC8v5riF56m66KGo5Y2VDQogICAgICB0aGlzLnNlYXJjaE9iaiA9IHt9DQogICAgICAvL+afpeivouaJgOacieaVsOaNrg0KICAgICAgdGhpcy5mZXRjaERhdGEoKQ0KICAgIH0sDQogICAgLy/mnaHku7bliIbpobXmn6Xor6LliJfooagNCiAgICAvL3BhZ2VOdW0g5p+l6K+i6aG15pWwDQogICAgZmV0Y2hEYXRhKHBhZ2VOdW09MSkgew0KICAgICAgLy/pobXmlbDotYvlgLwNCiAgICAgIHRoaXMucGFnZSA9IHBhZ2VOdW0NCiAgICAgIC8vYWpheA0KICAgICAgYXBpLmdldFBhZ2VMaXN0KHRoaXMucGFnZSx0aGlzLmxpbWl0LHRoaXMuc2VhcmNoT2JqKQ0KICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgLy90aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UNCiAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlKQ0KICAgICAgICAgIC8v5q+P6aG15pWw5o2u5YiX6KGoDQogICAgICAgICAgdGhpcy5saXN0ID0gcmVzcG9uc2UuZGF0YS5yZWNvcmRzDQogICAgICAgICAgLy/mgLvorrDlvZXmlbANCiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzcG9uc2UuZGF0YS50b3RhbA0KICAgICAgICB9KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/system/sysRole","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    角色列表\r\n    <!--查询表单-->\r\n    <div class=\"search-div\">\r\n      <el-form label-width=\"70px\" size=\"small\">\r\n        <el-row>\r\n          <el-col :span=\"24\">\r\n            <el-form-item label=\"角色名称\">\r\n              <el-input style=\"width: 100%\" v-model=\"searchObj.roleName\" placeholder=\"角色名称\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row style=\"display:flex\">\r\n          <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\"  @click=\"fetchData()\">搜索</el-button>\r\n          <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetData\">重置</el-button>\r\n        </el-row>\r\n      </el-form>\r\n    </div>\r\n    <!-- 工具条 -->\r\n  <div class=\"tools-div\">\r\n    <el-button type=\"success\" icon=\"el-icon-plus\" size=\"mini\" @click=\"add\">添 加</el-button>\r\n    <el-button class=\"btn-add\" size=\"mini\" @click=\"batchRemove()\" >批量删除</el-button>\r\n  </div>\r\n    <!-- 表格 -->\r\n    <el-table\r\n      v-loading=\"listLoading\"\r\n      :data=\"list\"\r\n      stripe\r\n      border\r\n      style=\"width: 100%;margin-top: 10px;\"\r\n      @selection-change=\"handleSelectionChange\">\r\n\r\n      <el-table-column type=\"selection\"/>\r\n\r\n      <el-table-column\r\n        label=\"序号\"\r\n        width=\"70\"\r\n        align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          {{ (page - 1) * limit + scope.$index + 1 }}\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column prop=\"roleName\" label=\"角色名称\" />\r\n      <el-table-column prop=\"roleCode\" label=\"角色编码\" />\r\n      <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"160\"/>\r\n      <el-table-column label=\"操作\" width=\"200\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"edit(scope.row.id)\" title=\"修改\"/>\r\n          <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removeDataById(scope.row.id)\" title=\"删除\"/>\r\n          <el-button type=\"warning\" icon=\"el-icon-baseball\" size=\"mini\" @click=\"showAssignAuth(scope.row)\" title=\"分配权限\"/>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n  <!-- 分页组件 -->\r\n    <el-pagination\r\n      :current-page=\"page\"\r\n      :total=\"total\"\r\n      :page-size=\"limit\"\r\n      style=\"padding: 30px 0; text-align: center;\"\r\n      layout=\"total, prev, pager, next, jumper\"\r\n      @current-change=\"fetchData\"\r\n    />\r\n\r\n    <el-dialog title=\"添加/修改\" :visible.sync=\"dialogVisible\" width=\"40%\" >\r\n          <el-form ref=\"dataForm\" :model=\"sysRole\" label-width=\"150px\" size=\"small\" style=\"padding-right: 40px;\">\r\n            <el-form-item label=\"角色名称\">\r\n              <el-input v-model=\"sysRole.roleName\"/>\r\n            </el-form-item>\r\n            <el-form-item label=\"角色编码\">\r\n              <el-input v-model=\"sysRole.roleCode\"/>\r\n            </el-form-item>\r\n          </el-form>\r\n          <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible = false\" size=\"small\" icon=\"el-icon-refresh-right\">取 消</el-button>\r\n            <el-button type=\"primary\" icon=\"el-icon-check\" @click=\"saveOrUpdate()\" size=\"small\">确 定</el-button>\r\n          </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n//引入定义接口的js文件\r\nimport api from '@/api/system/role'\r\n\r\nexport default {\r\n  //定义初始值\r\n  data() {\r\n    return {\r\n      listLoading:false,//是否显示加载\r\n      list:[],//角色列表\r\n      total:0,//总记录数\r\n      page:1,//当前页\r\n      limit:3,//每页显示记录数\r\n      searchObj:{},//条件查询封装对象\r\n\r\n      dialogVisible: false,//弹出框\r\n      sysRole:{}, //封装添加表单数据\r\n      selectValue:[] //复选框选择内容封装数组\r\n    }\r\n  },\r\n  //页面渲染之前执行\r\n  created() {\r\n    //调用列表方法\r\n    this.fetchData()\r\n  },\r\n  methods:{//具体方法\r\n    //跳转分配菜单权限\r\n    showAssignAuth(row) {\r\n      this.$router.push('/system/assignAuth?id='+row.id+'&roleName='+row.roleName);\r\n    },\r\n    //复选框发生变化执行方法\r\n    handleSelectionChange(selection) {\r\n      this.selectValue = selection\r\n      //console.log(this.selectValue)\r\n    },\r\n    //批量删除\r\n    batchRemove() {\r\n      //判断\r\n      if(this.selectValue.length==0) {\r\n        this.$message.warning('请选择要删除的记录！')\r\n        return\r\n      }\r\n      this.$confirm('此操作将永久删除该角色, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          //数组\r\n          var idList = []\r\n          //获取多个复选框对应id，封装到数组里面\r\n          // [1,2,3]\r\n          for(var i=0;i<this.selectValue.length;i++) {\r\n            var obj = this.selectValue[i]\r\n            //id值\r\n            var id = obj.id\r\n            //放到数组里面\r\n            idList.push(id)\r\n          }\r\n          api.batchRemove(idList).then(response => {\r\n              //提示\r\n              this.$message({\r\n                type: 'success',\r\n                message: '删除成功!'\r\n              });\r\n              //刷新\r\n              this.fetchData()\r\n          })\r\n        })\r\n    },\r\n    //修改-数据回显\r\n    edit(id) {\r\n      //弹出框\r\n      this.dialogVisible = true\r\n      api.getRoleId(id).then(response => {\r\n        this.sysRole = response.data\r\n      })\r\n    },\r\n    //点击确定\r\n    saveOrUpdate() {\r\n      //判断添加还是修改\r\n      if(!this.sysRole.id) {\r\n        //添加\r\n        this.saveRole()\r\n      } else {\r\n        this.updateRole()\r\n      }\r\n    },\r\n    //修改的方法\r\n    updateRole() {\r\n      api.update(this.sysRole)\r\n        .then(response => {\r\n          //提示\r\n          this.$message({\r\n            type: 'success',\r\n            message: '修改成功!'\r\n          });\r\n          //关闭弹框\r\n          this.dialogVisible = false\r\n          //刷新页面\r\n          this.fetchData()\r\n        })\r\n    },\r\n    //添加的方法\r\n    saveRole() {\r\n      api.saveRole(this.sysRole)\r\n        .then(response => {\r\n          //提示\r\n          this.$message({\r\n            type: 'success',\r\n            message: '添加成功!'\r\n          });\r\n          //关闭弹框\r\n          this.dialogVisible = false\r\n          //刷新页面\r\n          this.fetchData()\r\n        })\r\n    },\r\n    //点击添加，弹出框\r\n    add() {\r\n      this.dialogVisible = true\r\n      this.sysRole = {}\r\n    },\r\n    //删除\r\n    removeDataById(id) {\r\n       this.$confirm('此操作将永久删除该角色, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          //调用方法删除\r\n          api.removeId(id)\r\n            .then(response => {\r\n              //提示\r\n              this.$message({\r\n                type: 'success',\r\n                message: '删除成功!'\r\n              });\r\n              //刷新\r\n              this.fetchData()\r\n          })\r\n        })\r\n    },\r\n    //重置\r\n    resetData() {\r\n      //清空表单\r\n      this.searchObj = {}\r\n      //查询所有数据\r\n      this.fetchData()\r\n    },\r\n    //条件分页查询列表\r\n    //pageNum 查询页数\r\n    fetchData(pageNum=1) {\r\n      //页数赋值\r\n      this.page = pageNum\r\n      //ajax\r\n      api.getPageList(this.page,this.limit,this.searchObj)\r\n        .then(response => {\r\n          //this.listLoading = false\r\n          //console.log(response)\r\n          //每页数据列表\r\n          this.list = response.data.records\r\n          //总记录数\r\n          this.total = response.data.total\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>"]}]}