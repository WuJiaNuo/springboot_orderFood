{"remainingRequest":"F:\\Program_Java\\Spring\\Spring_Boot\\project\\源码\\源码\\前端\\exam-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Program_Java\\Spring\\Spring_Boot\\project\\源码\\源码\\前端\\exam-vue\\src\\views\\pages\\ExamSysUserSelectDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Program_Java\\Spring\\Spring_Boot\\project\\源码\\源码\\前端\\exam-vue\\src\\views\\pages\\ExamSysUserSelectDialog.vue","mtime":1697555440839},{"path":"F:\\Program_Java\\Spring\\Spring_Boot\\project\\源码\\源码\\前端\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Program_Java\\Spring\\Spring_Boot\\project\\源码\\源码\\前端\\exam-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\Program_Java\\Spring\\Spring_Boot\\project\\源码\\源码\\前端\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Program_Java\\Spring\\Spring_Boot\\project\\源码\\源码\\前端\\exam-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzeXNVc2VyQXBpIGZyb20gJ0AvYXBpL3N5c3RlbS9zeXNVc2VyJwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2hGb3JtOiB7fSwKICAgICAgZGF0YUxpc3RBbGxTZWxlY3Rpb25zOiBbXSwgLy8g5omA5pyJ6YCJ5Lit55qE5pWw5o2u5YyF5ZCr6Leo6aG15pWw5o2uCiAgICAgIGlkS2V5OiAiaWQiLCAvLyDmoIfor4bliJfooajmlbDmja7kuK3mr4/kuIDooYznmoTllK/kuIDplK7nmoTlkI3np7Ao6ZyA6KaB5oyJ6Ieq5bex55qE5pWw5o2u5pS55LiA5LiLKQogICAgICBkYXRhTGlzdDogW10sCiAgICAgIHBhZ2VObzogMSwKICAgICAgcGFnZVNpemU6IDUsCiAgICAgIHRvdGFsOiAwLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHNlbGVjdERhdGE6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0sCiAgICB9LAogICAgLy8g5piv5ZCm5ZCv55So5Y2V6YCJCiAgICBzaW5nbGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICB3aGVyZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VJbnB1dCgpIHsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgIH0sCiAgICBnZXRSb3dLZXlzKHJvdykgewogICAgICByZXR1cm4gcm93LmlkCiAgICB9LAoKICAgIGluaXQoKSB7CiAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLmRhdGFMaXN0QWxsU2VsZWN0aW9ucyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5zZWxlY3REYXRhKSk7CiAgICAgICAgdGhpcy4kcmVmcy5zeXNVc2VyVGFibGUuY2xlYXJTZWxlY3Rpb24oKQogICAgICAgIHRoaXMucmVzZXRTZWFyY2goKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W5pWw5o2u5YiX6KGoCiAgICByZWZyZXNoTGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgaWYgKHRoaXMud2hlcmUgIT0gbnVsbCAmJiB0aGlzLndoZXJlICE9ICcnKSB7CiAgICAgICAgbGV0IHF1ZXJ5T2JqID0gSlNPTi5wYXJzZSh0aGlzLndoZXJlKQogICAgICAgIHRoaXMuc2VhcmNoRm9ybSA9IE9iamVjdC5hc3NpZ24ocXVlcnlPYmosIHRoaXMuc2VhcmNoRm9ybSkKICAgICAgfQogICAgICBzeXNVc2VyQXBpLmdldFBhZ2VMaXN0KHRoaXMucGFnZU5vLCB0aGlzLnBhZ2VTaXplLCB0aGlzLnNlYXJjaEZvcm0pLnRoZW4oCiAgICAgICAgcmVzcG9uc2UgPT4gewogICAgICAgICAgLy90aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhLmxpc3QKICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSByZXNwb25zZS5kYXRhLnJlY29yZHMKICAgICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsCiAgICAgICAgICBpZiAodGhpcy5zZWxlY3REYXRhICYmIHRoaXMuc2VsZWN0RGF0YS5sZW5ndGggPD0gMTAwMDApIHsKICAgICAgICAgICAgLy90ZXN0IGJlZ2luCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBsZXQgYXJyID0gW10KICAgICAgICAgICAgICAvLyB0aGlzLiRyZWZzLnN0dWRlbnRUYWJsZS5jbGVhclNlbGVjdGlvbigpCiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NlbGVjdERhdGEnKQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0RGF0YSkKICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0LmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGF0YS5mb3JFYWNoKHZhbCA9PiB7ICAvL+mBjeWOhuaOpeWPo+i/lOWbnueahGlk5pWw57uECiAgICAgICAgICAgICAgICAgIGlmICh2YWwuaWQgPT09IGl0ZW0uaWQpIHsKICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChpdGVtKQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgaWYgKGFycikgewogICAgICAgICAgICAgICAgYXJyLmZvckVhY2goKHJvdykgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnN5c1VzZXJUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93LCB0cnVlKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC8vdGVzdCBlbmQKICAgICAgICAgIH0KCiAgICAgICAgICAvLyDmlbDmja7liqDovb3lubbnu5HlrprmiJDlip8KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgfQogICAgICApCiAgICB9LAogICAgLy8g5q+P6aG15pWwCiAgICBzaXplQ2hhbmdlSGFuZGxlKHZhbCkgewogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOwogICAgICB0aGlzLnBhZ2VObyA9IDE7CiAgICAgIHRoaXMucmVmcmVzaExpc3QoKTsKICAgIH0sCiAgICAvLyDlvZPliY3pobUKICAgIGN1cnJlbnRDaGFuZ2VIYW5kbGUodmFsKSB7CiAgICAgIHRoaXMucGFnZU5vID0gdmFsOwogICAgICB0aGlzLnJlZnJlc2hMaXN0KCk7CiAgICB9LAogICAgLy8g5o6S5bqPCiAgICByZXNldFNlYXJjaCgpIHsKICAgICAgdGhpcy4kcmVmcy5zZWFyY2hGb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMucmVmcmVzaExpc3QoKTsKICAgIH0sCiAgICAvL+ebkeWQrOmAieS4rQogICAgcHJvcGVydHlTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuZGF0YUxpc3RBbGxTZWxlY3Rpb25zID0gc2VsZWN0aW9uCiAgICB9LAogICAgLy8g5omL5Yqo6YCJ5Lit5pWw5o2u5LqL5Lu2CiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uLCByb3cpIHsKICAgICAgaWYgKHJvdykgewogICAgICAgIGlmICh0aGlzLnNlbGVjdERhdGEgJiYgdGhpcy5zZWxlY3REYXRhLmxlbmd0aCA8PSAxMDAwMCkgewogICAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsZXQgc2VsZWN0ZWQgPSBzZWxlY3Rpb24ubGVuZ3RoICYmIHNlbGVjdGlvbi5pbmRleE9mKHJvdykgIT09IC0xOwogICAgICAgICAgICBpZiAoIXNlbGVjdGVkKSB7IC8v5Y+W5raI6YCJ5Lit5oqK6buY6K6k5YC856e76Zmk5o6JCiAgICAgICAgICAgICAgdGhpcy5zZWxlY3REYXRhLmZvckVhY2goKHZhbCwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGlmICh2YWwuaWQgPT0gcm93LmlkKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RGF0YVtpbmRleF0gPSB7aWQ6ICcnfTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImhhcyByZW1vdmVkICIgKyB2YWwubmFtZSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IGlzQ2hlY2tBbGwgPSB0aGlzLiRyZWZzLnN5c1VzZXJUYWJsZS5zdG9yZS5zdGF0ZXMuaXNBbGxTZWxlY3RlZDsKICAgICAgICAvL+WPjemAieeahOaXtuWAmSDnp7vpmaTpu5jorqQKICAgICAgICBpZiAoaXNDaGVja0FsbCA9PSBmYWxzZSkgewogICAgICAgICAgY29uc29sZS5sb2coJ+eCueWHu+S6huWPjemAiScpCiAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdERhdGEgJiYgdGhpcy5zZWxlY3REYXRhLmxlbmd0aCA8PSAxMDAwMCkgewogICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REYXRhLmZvckVhY2goKHZhbCwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKHZhbC5pZCA9PSBpdGVtLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3REYXRhW2luZGV4XSA9IHtpZDogJyd9OwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJoYXMgcmVtb3ZlZCAiICsgdmFsLm5hbWUpCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ+eCueWHu+S6huWFqOmAiScpCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZG9TdWJtaXQoKSB7CiAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgICAvL+e/u+mhteeahOmXrumimCDlj43pgInnmoTml7blgJnlrZjlnKjpu5jorqTlgLzkuI3og73kv53nlZnnmoTpl67popgKICAgICAgaWYgKHRoaXMuc2VsZWN0RGF0YSAmJiB0aGlzLnNlbGVjdERhdGEubGVuZ3RoIDw9IDEwMDAwKSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhpcy5zZWxlY3REYXRhLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgICAgbGV0IGlzSW4gPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5kYXRhTGlzdEFsbFNlbGVjdGlvbnMuZm9yRWFjaCgodmFsLCBpbmRleCkgPT4gewogICAgICAgICAgICAgIGlmICh2YWwuaWQgPT0gaXRlbS5pZCkgewogICAgICAgICAgICAgICAgaXNJbiA9IHRydWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICBpZiAoaXNJbiA9PSBmYWxzZSAmJiBpdGVtLmlkICE9ICcnKSB7CiAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdEFsbFNlbGVjdGlvbnMucHVzaChpdGVtKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaGFzIHB1c2giKQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgdGhpcy4kZW1pdCgiZG9TdWJtaXQiLCB0aGlzLmRhdGFMaXN0QWxsU2VsZWN0aW9ucyk7CiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["ExamSysUserSelectDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ExamSysUserSelectDialog.vue","sourceRoot":"src/views/pages","sourcesContent":["<template>\n  <div>\n    <el-dialog\n      title=\"分配用户\"\n      width=\"1000px\"\n      :close-on-click-modal=\"false\"\n      :append-to-body=\"true\"\n      v-dialogDrag\n      :visible.sync=\"visible\">\n           <span slot=\"title\" class=\"dialog-footer\">\n          <el-button\n            size=\"small\"\n            @click=\"visible = false\"\n            icon=\"el-icon-circle-close\"\n          >关闭</el-button>\n          <el-button\n            size=\"small\"\n            type=\"primary\"\n            icon=\"el-icon-circle-check\"\n            @click=\"doSubmit()\"\n          >确定</el-button>\n        </span>\n      <div>\n        <div class=\"search-div\" style=\"height: 55px;margin-top: -25px\">\n          <el-form\n            size=\"small\"\n            ref=\"searchForm\"\n            :model=\"searchForm\">\n            <el-row>\n              <el-col :span=\"5\">\n                <el-form-item prop=\"username\">\n                  <el-input\n                    size=\"small\"\n                    v-model=\"searchForm.username\"\n                    placeholder=\"用户名\"\n                    @input=\"changeInput($event)\"\n                    clearable>\n                  </el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"5\"  style=\"margin-left: 5px\">\n                <el-form-item prop=\"name\">\n                  <el-input\n                    size=\"small\"\n                    v-model=\"searchForm.name\"\n                    placeholder=\"姓名\"\n                    @input=\"changeInput($event)\"\n                    clearable>\n                  </el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"5\"  style=\"margin-left: 5px\">\n                <el-form-item prop=\"phone\">\n                  <el-input\n                    size=\"small\"\n                    v-model=\"searchForm.phone\"\n                    placeholder=\"手机\"\n                    @input=\"changeInput($event)\"\n                    clearable>\n                  </el-input>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"5\"  style=\"margin-left: 5px\">\n                <el-form-item>\n                  <el-button\n                    type=\"primary\"\n                    @click=\"refreshList()\"\n                    size=\"small\"\n                    icon=\"el-icon-search\">搜索\n                  </el-button>\n                  <el-button\n                    @click=\"resetSearch()\"\n                    size=\"small\"\n                    icon=\"el-icon-refresh-right\">重置\n                  </el-button>\n                </el-form-item>\n              </el-col>\n            </el-row>\n          </el-form>\n        </div>\n        <el-table\n          :data=\"dataList\"\n          v-loading=\"loading\"\n          size=\"small\"\n          stripe\n          border\n          ref=\"sysUserTable\"\n          :row-key=\"getRowKeys\"\n          @select=\"handleSelectionChange\"\n          @select-all=\"handleSelectionChange\"\n          @selection-change=\"propertySelectionChange\"\n          style=\"width: 100%;margin-top: 10px;\">\n          <el-table-column\n            type=\"selection\"\n            :reserve-selection=\"true\"\n            header-align=\"center\"\n            align=\"center\"\n            width=\"50\"\n          >\n          </el-table-column>\n          <el-table-column sortable prop=\"deptName\" label=\"部门名称\" show-overflow-tooltip=\"true\"/>\n          <el-table-column sortable prop=\"username\" label=\"用户名\" show-overflow-tooltip=\"true\"/>\n          <el-table-column sortable prop=\"name\" label=\"姓名\" show-overflow-tooltip=\"true\"/>\n          <el-table-column sortable prop=\"phone\" label=\"手机\" show-overflow-tooltip=\"true\"/>\n          <el-table-column sortable prop=\"postName\" label=\"岗位\" show-overflow-tooltip=\"true\"/>\n          <el-table-column sortable prop=\"description\" label=\"描述\" show-overflow-tooltip=\"true\"/>\n          <el-table-column sortable prop=\"status\" label=\"状态\" show-overflow-tooltip=\"true\"/>\n          <el-table-column sortable prop=\"createTime\" label=\"创建时间\" show-overflow-tooltip=\"true\"/>\n          <el-table-column sortable prop=\"updateTime\" label=\"更新时间\" show-overflow-tooltip=\"true\"/>\n        </el-table>\n        <el-pagination\n          @size-change=\"sizeChangeHandle\"\n          @current-change=\"currentChangeHandle\"\n          :current-page=\"pageNo\"\n          :page-sizes=\"[5, 10, 50, 100]\"\n          :page-size=\"pageSize\"\n          :total=\"total\"\n          style=\"padding: 30px 0; text-align: center;\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n        >\n        </el-pagination>\n\n      </div>\n\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport sysUserApi from '@/api/system/sysUser'\n\nexport default {\n  data() {\n    return {\n      searchForm: {},\n      dataListAllSelections: [], // 所有选中的数据包含跨页数据\n      idKey: \"id\", // 标识列表数据中每一行的唯一键的名称(需要按自己的数据改一下)\n      dataList: [],\n      pageNo: 1,\n      pageSize: 5,\n      total: 0,\n      loading: false,\n      visible: false,\n    };\n  },\n  props: {\n    selectData: {\n      type: Array,\n      default: () => {\n        return [];\n      },\n    },\n    // 是否启用单选\n    single: {\n      type: Boolean,\n      default: false\n    },\n    where: {\n      type: String,\n      default: ''\n    }\n  },\n  methods: {\n    changeInput() {\n      this.$forceUpdate();\n    },\n    getRowKeys(row) {\n      return row.id\n    },\n\n    init() {\n      this.visible = true;\n      this.$nextTick(() => {\n        this.dataListAllSelections = JSON.parse(JSON.stringify(this.selectData));\n        this.$refs.sysUserTable.clearSelection()\n        this.resetSearch();\n      });\n    },\n    // 获取数据列表\n    refreshList() {\n      this.loading = true;\n      if (this.where != null && this.where != '') {\n        let queryObj = JSON.parse(this.where)\n        this.searchForm = Object.assign(queryObj, this.searchForm)\n      }\n      sysUserApi.getPageList(this.pageNo, this.pageSize, this.searchForm).then(\n        response => {\n          //this.list = response.data.list\n          this.dataList = response.data.records\n          this.total = response.data.total\n          if (this.selectData && this.selectData.length <= 10000) {\n            //test begin\n            this.$nextTick(function () {\n              let arr = []\n              // this.$refs.studentTable.clearSelection()\n              console.log('selectData')\n              console.log(this.selectData)\n              this.dataList.forEach((item) => {\n                this.selectData.forEach(val => {  //遍历接口返回的id数组\n                  if (val.id === item.id) {\n                    arr.push(item)\n                  }\n                })\n              })\n              if (arr) {\n                arr.forEach((row) => {\n                  this.$refs.sysUserTable.toggleRowSelection(row, true)\n                })\n              }\n            })\n            //test end\n          }\n\n          // 数据加载并绑定成功\n          this.loading = false\n        }\n      )\n    },\n    // 每页数\n    sizeChangeHandle(val) {\n      this.pageSize = val;\n      this.pageNo = 1;\n      this.refreshList();\n    },\n    // 当前页\n    currentChangeHandle(val) {\n      this.pageNo = val;\n      this.refreshList();\n    },\n    // 排序\n    resetSearch() {\n      this.$refs.searchForm.resetFields();\n      this.refreshList();\n    },\n    //监听选中\n    propertySelectionChange(selection) {\n      this.dataListAllSelections = selection\n    },\n    // 手动选中数据事件\n    handleSelectionChange(selection, row) {\n      if (row) {\n        if (this.selectData && this.selectData.length <= 10000) {\n          this.$nextTick(function () {\n            let selected = selection.length && selection.indexOf(row) !== -1;\n            if (!selected) { //取消选中把默认值移除掉\n              this.selectData.forEach((val, index) => {\n                if (val.id == row.id) {\n                  this.selectData[index] = {id: ''};\n                  console.log(\"has removed \" + val.name)\n                }\n              })\n\n            }\n          })\n        }\n      } else {\n        let isCheckAll = this.$refs.sysUserTable.store.states.isAllSelected;\n        //反选的时候 移除默认\n        if (isCheckAll == false) {\n          console.log('点击了反选')\n          this.$nextTick(function () {\n            if (this.selectData && this.selectData.length <= 10000) {\n              this.dataList.forEach((item) => {\n                this.selectData.forEach((val, index) => {\n                  if (val.id == item.id) {\n                    this.selectData[index] = {id: ''};\n                    console.log(\"has removed \" + val.name)\n                  }\n                })\n              })\n            }\n          })\n        } else {\n          console.log('点击了全选')\n        }\n      }\n    },\n    doSubmit() {\n      this.visible = false;\n      //翻页的问题 反选的时候存在默认值不能保留的问题\n      if (this.selectData && this.selectData.length <= 10000) {\n        this.$nextTick(function () {\n          this.selectData.forEach((item) => {\n            let isIn = false;\n            this.dataListAllSelections.forEach((val, index) => {\n              if (val.id == item.id) {\n                isIn = true;\n              }\n            })\n            if (isIn == false && item.id != '') {\n              this.dataListAllSelections.push(item);\n              console.log(\"has push\")\n              console.log(item);\n            }\n          })\n          this.$emit(\"doSubmit\", this.dataListAllSelections);\n        })\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n</style>\n"]}]}