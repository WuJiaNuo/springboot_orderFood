{"remainingRequest":"F:\\Program_Java\\Spring\\Spring_Boot\\project\\源码\\源码\\前端\\exam-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Program_Java\\Spring\\Spring_Boot\\project\\源码\\源码\\前端\\exam-vue\\src\\views\\pages\\exam.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Program_Java\\Spring\\Spring_Boot\\project\\源码\\源码\\前端\\exam-vue\\src\\views\\pages\\exam.vue","mtime":1699605640127},{"path":"F:\\Program_Java\\Spring\\Spring_Boot\\project\\源码\\源码\\前端\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Program_Java\\Spring\\Spring_Boot\\project\\源码\\源码\\前端\\exam-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\Program_Java\\Spring\\Spring_Boot\\project\\源码\\源码\\前端\\exam-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Program_Java\\Spring\\Spring_Boot\\project\\源码\\源码\\前端\\exam-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByZXF1ZXN0IGZyb20gJ0AvdXRpbHMvcmVxdWVzdCcKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZvcm06IHsKICAgICAgICBzaWdMaXN0OiBbXSwKICAgICAgICBtdWxMaXN0OiBbXSwKICAgICAgICBwZExpc3Q6IFtdLAogICAgICAgIHdkTGlzdDogW10sCiAgICAgICAgZXhhbUlkOiAnJywKICAgICAgICByZXN1bHRJZDonJywKICAgICAgICB0ZXN0TGlzdDpbXQogICAgICB9LAogICAgICBtaW46ICcnLAogICAgICBzZWM6ICcnLAogICAgICBleGFtVHlwZTonJywKICAgICAgZnJvbVR5cGU6JycKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNvdW50RG93bigpIHsKICAgICAgLy9jb25zdCBlbmQgPSBEYXRlLnBhcnNlKG5ldyBEYXRlKCcyMDIzLTEwLTAyIDEzOjMwOjAwJykpCiAgICAgIGNvbnN0IGVuZCA9IERhdGUucGFyc2UobmV3IERhdGUodGhpcy4kcm91dGUucXVlcnkuZW5kVGltZSkpOwogICAgICBjb25zdCBub3cgPSBEYXRlLnBhcnNlKG5ldyBEYXRlKCkpCiAgICAgIGNvbnN0IG1zZWMgPSBlbmQgLSBub3cKICAgICAgaWYgKG1zZWMgPCAwKSByZXR1cm47CiAgICAgIGxldCBkYXkgPSBwYXJzZUludChtc2VjIC8gMTAwMCAvIDYwIC8gNjAgLyAyNCkKICAgICAgbGV0IGhyID0gcGFyc2VJbnQobXNlYyAvIDEwMDAgLyA2MCAvIDYwICUgMjQpCiAgICAgIGxldCBtaW4gPSBwYXJzZUludChtc2VjIC8gMTAwMCAvIDYwICUgNjApCiAgICAgIGxldCBzZWMgPSBwYXJzZUludChtc2VjIC8gMTAwMCAlIDYwKQogICAgICB0aGlzLmRheSA9IGRheQogICAgICB0aGlzLmhyID0gaHIgPiA5ID8gaHIgOiAnMCcgKyBocgogICAgICB0aGlzLm1pbiA9IG1pbiA+IDkgPyBtaW4gOiAnMCcgKyBtaW4KICAgICAgdGhpcy5zZWMgPSBzZWMgPiA5ID8gc2VjIDogJzAnICsgc2VjCiAgICAgIGNvbnN0IHRoYXQgPSB0aGlzCiAgICAgIGlmIChtaW4gPj0gMCAmJiBzZWMgPj0gMCkgewogICAgICAgIC8v5YCS6K6h5pe257uT5p2f5YWz6Zet6K6i5Y2VCiAgICAgICAgaWYgKG1pbiA9PSAwICYmIHNlYyA9PSAwKSB7CiAgICAgICAgICB0aGlzLnN1YkV4KHRydWUpCiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0aGF0LmNvdW50RG93bigpCiAgICAgICAgfSwgMTAwMCkKICAgICAgfQogICAgfSwKICAgIHNhdmUoZGF0YSkgewogICAgICByZXR1cm4gcmVxdWVzdCh7CiAgICAgICAgdXJsOiAnL1F1ZXN0aW9uL3NhdmVFeGFtJywKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICBkYXRhOiBkYXRhCiAgICAgIH0pCiAgICB9LAogICAgZ2V0RXhhbShzZWFyY2hPYmopIHsKICAgICAgcmV0dXJuIHJlcXVlc3QoewogICAgICAgIHVybDogJy9RdWVzdGlvbi9teUxpc3QnLAogICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgcGFyYW1zOiBzZWFyY2hPYmoKICAgICAgfSkKICAgIH0sCiAgICBzdWJFeChhdXRvKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgdGhpcy5zYXZlKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAnMjAwJykgewogICAgICAgICAgaWYoYXV0byl7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn6ICD6K+V5pe26Ze05bey6L+H77yM5bey6Ieq5Yqo5o+Q5Lqk77yM6K+35YmN5b6A5oiR55qE5oiQ57up5Lit5p+l55yL5oiQ57upJykKICAgICAgICAgIH1lbHNlewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+iAg+ivleaPkOS6pOaIkOWKn++8jOivt+WJjeW+gOaIkeeahOaIkOe7qeS4reafpeeci+aIkOe7qScpCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgIH0sCiAgICBvblN1Ym1pdCgpIHsKICAgICAgdGhpcy4kY29uZmlybSgn56Gu6K6k5o+Q5LqkPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLnN1YkV4KCkKICAgICAgfSkKICAgIH0KCiAgfQogICwKICBtb3VudGVkKCkgewogICAgY29uc3QgZWlkID0gdGhpcy4kcm91dGUucXVlcnkuZXhhbUlkOwogICAgdGhpcy5leGFtVHlwZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGU7CiAgICB0aGlzLmZyb21UeXBlID0gdGhpcy4kcm91dGUucXVlcnkuZnJvbVR5cGU7CiAgICB0aGlzLmZvcm0ucmVzdWx0SWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5yZXN1bHRJZDsKICAgIHRoaXMuZm9ybS5leGFtSWQgPSBlaWQKICAgIGxldCBxdWVyeU9iaiA9IHtleGFtSWQ6IGVpZCxyZXN1bHRJZDp0aGlzLmZvcm0ucmVzdWx0SWR9CiAgICB0aGlzLmdldEV4YW0ocXVlcnlPYmopLnRoZW4oCiAgICAgIHJlc3BvbnNlID0+IHsKICAgICAgICAvL3RoaXMubGlzdCA9IHJlc3BvbnNlLmRhdGEubGlzdAogICAgICAgIHRoaXMuZm9ybS5zaWdMaXN0ID0gcmVzcG9uc2UuZGF0YS5zaWdMaXN0CiAgICAgICAgdGhpcy5mb3JtLm11bExpc3QgPSByZXNwb25zZS5kYXRhLm11bExpc3QKICAgICAgICB0aGlzLmZvcm0ucGRMaXN0ID0gcmVzcG9uc2UuZGF0YS5wZExpc3QKICAgICAgICB0aGlzLmZvcm0ud2RMaXN0ID0gcmVzcG9uc2UuZGF0YS53ZExpc3QKICAgICAgICAvLyDmlbDmja7liqDovb3lubbnu5HlrprmiJDlip8KICAgICAgfQogICAgKQogICAgaWYodGhpcy5leGFtVHlwZT09JzUwMDInKXsKICAgICAgdGhpcy5jb3VudERvd24oKQogICAgfQogIH0KfQo="},{"version":3,"sources":["exam.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"exam.vue","sourceRoot":"src/views/pages","sourcesContent":["<template>\n  <el-form ref=\"form\" :model=\"form\" size=\"small\" style=\"margin-left:30px;margin-right:500px\">\n    <div style=\"text-align: center;margin-top: 10px\"><span style=\"font-size: 25px;\"> {{\n        this.$route.query.examTitle\n      }}</span>\n      <span v-if=\"this.examType=='5002'\" style=\"color: red;margin-left: 10px\">剩余时间:{{hr}}小时 {{ min }}分钟 {{ sec }}秒 </span></div>\n    <div style=\"font-size: 20px;margin-bottom: 10px\" v-if=\"form.sigList.length>0\">(一) 单选题</div>\n    <el-form-item v-for=\"(item, index) in form.sigList\"\n                  :label=\"'('+(index+1)+')   '+item.content+':'\">\n      <br/>\n      <el-radio-group v-if=\"item.type=='4001'\" v-model=\"item.myCheck\">\n        <el-radio v-for=\"opitem in item.optionList\" :label=\"opitem.options\">{{opitem.options}}:{{ opitem.name }}</el-radio>\n      </el-radio-group>\n    </el-form-item>\n\n    <div style=\"font-size: 20px;margin-bottom: 10px\" v-if=\"form.mulList.length>0\">(二) 多选题</div>\n    <el-form-item v-for=\"(item, index) in form.mulList\"\n                  :label=\"'('+(index+1)+')   '+item.content+':'\">\n      <br/>\n      <el-checkbox-group  v-if=\"item.type==='4002'\" v-model=\"item.myCheckList\">\n        <el-checkbox  v-for=\"opitem in item.optionList\"\n                     :label=\"opitem.options\">{{opitem.options}}:{{ opitem.name }}</el-checkbox>\n      </el-checkbox-group>\n    </el-form-item>\n\n\n    <div style=\"font-size: 20px;margin-bottom: 10px\" v-if=\"form.pdList.length>0\">(三) 判断题</div>\n    <el-form-item v-for=\"(item, index) in form.pdList\"\n                  :label=\"'('+(index+1)+')   '+item.content+':'\">\n      <br/>\n      <el-radio-group v-if=\"item.type=='4003'\" v-model=\"item.myCheck\">\n        <el-radio v-for=\"opitem in item.optionList\" :label=\"opitem.options\">{{opitem.options}}:{{ opitem.name }}</el-radio>\n      </el-radio-group>\n    </el-form-item>\n\n    <div style=\"font-size: 20px;margin-bottom: 10px\" v-if=\"form.wdList.length>0\">(四) 问答题</div>\n    <el-form-item v-for=\"(item, index) in form.wdList\"\n                  :label=\"'('+(index+1)+')   '+item.content+':'\">\n      <el-input  v-if=\"item.type=='4004'\" style=\"width: 500px\"  v-model=\"item.myAnswer\"  />\n    </el-form-item>\n\n    <div style=\"margin-top: 20px\"/>\n    <el-button type=\"primary\" size=\"mini\" @click=\"onSubmit\" v-loading.fullscreen.lock=\"loading\">提交</el-button>\n    <el-button v-if=\"this.fromType==1\" @click=\"$router.push('/myExam')\" size=\"mini\" icon=\"el-icon-refresh-right\">返回</el-button>\n    <el-button v-else-if=\"this.fromType==2\" @click=\"$router.push('/myScore')\" size=\"mini\" icon=\"el-icon-refresh-right\">返回</el-button>\n  </el-form>\n</template>\n<script>\nimport request from '@/utils/request'\n\nexport default {\n  data() {\n    return {\n      loading: false,\n      form: {\n        sigList: [],\n        mulList: [],\n        pdList: [],\n        wdList: [],\n        examId: '',\n        resultId:'',\n        testList:[]\n      },\n      min: '',\n      sec: '',\n      examType:'',\n      fromType:''\n    }\n  },\n  methods: {\n    countDown() {\n      //const end = Date.parse(new Date('2023-10-02 13:30:00'))\n      const end = Date.parse(new Date(this.$route.query.endTime));\n      const now = Date.parse(new Date())\n      const msec = end - now\n      if (msec < 0) return;\n      let day = parseInt(msec / 1000 / 60 / 60 / 24)\n      let hr = parseInt(msec / 1000 / 60 / 60 % 24)\n      let min = parseInt(msec / 1000 / 60 % 60)\n      let sec = parseInt(msec / 1000 % 60)\n      this.day = day\n      this.hr = hr > 9 ? hr : '0' + hr\n      this.min = min > 9 ? min : '0' + min\n      this.sec = sec > 9 ? sec : '0' + sec\n      const that = this\n      if (min >= 0 && sec >= 0) {\n        //倒计时结束关闭订单\n        if (min == 0 && sec == 0) {\n          this.subEx(true)\n          return\n        }\n        setTimeout(function () {\n          that.countDown()\n        }, 1000)\n      }\n    },\n    save(data) {\n      return request({\n        url: '/Question/saveExam',\n        method: 'post',\n        data: data\n      })\n    },\n    getExam(searchObj) {\n      return request({\n        url: '/Question/myList',\n        method: 'get',\n        params: searchObj\n      })\n    },\n    subEx(auto) {\n      this.loading = true\n      this.save(this.form).then(response => {\n        this.loading = false\n        if (response.code == '200') {\n          if(auto){\n            this.$message.success('考试时间已过，已自动提交，请前往我的成绩中查看成绩')\n          }else{\n            this.$message.success('考试提交成功，请前往我的成绩中查看成绩')\n          }\n        }\n      }).catch(() => {\n        this.loading = false\n      })\n    },\n    onSubmit() {\n      this.$confirm('确认提交?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.subEx()\n      })\n    }\n\n  }\n  ,\n  mounted() {\n    const eid = this.$route.query.examId;\n    this.examType = this.$route.query.type;\n    this.fromType = this.$route.query.fromType;\n    this.form.resultId = this.$route.query.resultId;\n    this.form.examId = eid\n    let queryObj = {examId: eid,resultId:this.form.resultId}\n    this.getExam(queryObj).then(\n      response => {\n        //this.list = response.data.list\n        this.form.sigList = response.data.sigList\n        this.form.mulList = response.data.mulList\n        this.form.pdList = response.data.pdList\n        this.form.wdList = response.data.wdList\n        // 数据加载并绑定成功\n      }\n    )\n    if(this.examType=='5002'){\n      this.countDown()\n    }\n  }\n}\n</script>\n"]}]}