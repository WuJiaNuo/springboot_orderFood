{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2d0d7d9e\"],{7928:function(t,e,s){\"use strict\";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"app-container\"},[s(\"div\",{staticClass:\"search-div\"},[s(\"el-form\",{attrs:{\"label-width\":\"70px\",size:\"small\"}},[s(\"el-row\",[s(\"el-col\",{attrs:{span:8}},[s(\"el-form-item\",{attrs:{label:\"岗位名称\"}},[s(\"el-input\",{staticStyle:{width:\"95%\"},attrs:{placeholder:\"岗位名称\"},model:{value:t.searchObj.name,callback:function(e){t.$set(t.searchObj,\"name\",e)},expression:\"searchObj.name\"}})],1)],1)],1),s(\"el-row\",{staticStyle:{display:\"flex\"}},[s(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\",size:\"mini\"},on:{click:function(e){return t.fetchData()}}},[t._v(\"搜索\")]),s(\"el-button\",{attrs:{icon:\"el-icon-refresh\",size:\"mini\"},on:{click:t.resetData}},[t._v(\"重置\")])],1)],1)],1),s(\"div\",{staticClass:\"tools-div\"},[s(\"el-button\",{attrs:{type:\"success\",icon:\"el-icon-plus\",size:\"mini\"},on:{click:t.add}},[t._v(\"添 加\")])],1),s(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.listLoading,expression:\"listLoading\"}],staticStyle:{width:\"100%\",\"margin-top\":\"10px\"},attrs:{data:t.list,stripe:\"\",border:\"\"}},[s(\"el-table-column\",{attrs:{label:\"序号\",width:\"70\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\" \"+t._s((t.page-1)*t.limit+e.$index+1)+\" \")]}}])}),s(\"el-table-column\",{attrs:{prop:\"postCode\",label:\"岗位编码\",width:\"180\"}}),s(\"el-table-column\",{attrs:{prop:\"name\",label:\"岗位名称\",width:\"110\"}}),s(\"el-table-column\",{attrs:{prop:\"description\",label:\"描述\"}}),s(\"el-table-column\",{attrs:{label:\"状态\",width:\"80\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[s(\"el-switch\",{on:{change:function(s){return t.switchStatus(e.row)}},model:{value:1===e.row.status,callback:function(s){t.$set(e.row,\"status === 1\",s)},expression:\"scope.row.status === 1\"}})]}}])}),s(\"el-table-column\",{attrs:{prop:\"createTime\",label:\"创建时间\"}}),s(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\",fixed:\"right\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[s(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-edit\",size:\"mini\",title:\"修改\"},on:{click:function(s){return t.edit(e.row.id)}}}),s(\"el-button\",{attrs:{type:\"danger\",icon:\"el-icon-delete\",size:\"mini\",title:\"删除\"},on:{click:function(s){return t.removeDataById(e.row.id)}}})]}}])})],1),s(\"el-pagination\",{staticStyle:{padding:\"30px 0\",\"text-align\":\"center\"},attrs:{\"current-page\":t.page,total:t.total,\"page-size\":t.limit,layout:\"total, prev, pager, next, jumper\"},on:{\"current-change\":t.fetchData}}),s(\"el-dialog\",{attrs:{title:\"添加/修改\",visible:t.dialogVisible,width:\"40%\"},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[s(\"el-form\",{ref:\"dataForm\",staticStyle:{\"padding-right\":\"40px\"},attrs:{model:t.sysPost,\"label-width\":\"100px\",size:\"small\"}},[s(\"el-form-item\",{attrs:{label:\"岗位编码\",prop:\"postCode\"}},[s(\"el-input\",{model:{value:t.sysPost.postCode,callback:function(e){t.$set(t.sysPost,\"postCode\",e)},expression:\"sysPost.postCode\"}})],1),s(\"el-form-item\",{attrs:{label:\"岗位名称\",prop:\"name\"}},[s(\"el-input\",{model:{value:t.sysPost.name,callback:function(e){t.$set(t.sysPost,\"name\",e)},expression:\"sysPost.name\"}})],1),s(\"el-form-item\",{attrs:{label:\"岗位描述\",prop:\"description\"}},[s(\"el-input\",{model:{value:t.sysPost.description,callback:function(e){t.$set(t.sysPost,\"description\",e)},expression:\"sysPost.description\"}})],1)],1),s(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[s(\"el-button\",{attrs:{size:\"small\",icon:\"el-icon-refresh-right\"},on:{click:function(e){t.dialogVisible=!1}}},[t._v(\"取 消\")]),s(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-check\",size:\"small\"},on:{click:function(e){return t.saveOrUpdate()}}},[t._v(\"确 定\")])],1)],1)],1)},i=[],n=(s(\"99af\"),s(\"b775\")),o=\"/admin/system/sysPost\",l={getPageList:function(t,e,s){return Object(n[\"a\"])({url:\"\".concat(o,\"/\").concat(t,\"/\").concat(e),method:\"get\",params:s})},getById:function(t){return Object(n[\"a\"])({url:\"\".concat(o,\"/get/\").concat(t),method:\"get\"})},save:function(t){return Object(n[\"a\"])({url:\"\".concat(o,\"/save\"),method:\"post\",data:t})},updateById:function(t){return Object(n[\"a\"])({url:\"\".concat(o,\"/update\"),method:\"put\",data:t})},removeById:function(t){return Object(n[\"a\"])({url:\"\".concat(o,\"/remove/\").concat(t),method:\"delete\"})},updateStatus:function(t,e){return Object(n[\"a\"])({url:\"\".concat(o,\"/updateStatus/\").concat(t,\"/\").concat(e),method:\"get\"})}},c={id:\"\",postCode:\"\",name:\"\",description:\"\",status:1},r={data:function(){return{listLoading:!0,list:null,total:0,page:1,limit:10,searchObj:{},dialogVisible:!1,sysPost:c,saveBtnDisabled:!1}},created:function(){console.log(\"list created......\"),this.fetchData()},mounted:function(){console.log(\"list mounted......\")},methods:{fetchData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,l.getPageList(this.page,this.limit,this.searchObj).then((function(e){t.list=e.data.records,t.total=e.data.total,t.listLoading=!1}))},resetData:function(){console.log(\"重置查询表单\"),this.searchObj={},this.fetchData()},removeDataById:function(t){var e=this;this.$confirm(\"此操作将永久删除该记录, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){return l.removeById(t)})).then((function(t){e.fetchData(e.page),e.$message.success(t.message||\"删除成功\")})).catch((function(){e.$message.info(\"取消删除\")}))},add:function(){this.dialogVisible=!0,this.sysPost={}},edit:function(t){var e=this;this.dialogVisible=!0,l.getById(t).then((function(t){e.sysPost=t.data}))},saveOrUpdate:function(){this.sysPost.id?this.update():this.save()},save:function(){var t=this;l.save(this.sysPost).then((function(e){t.$message.success(\"操作成功\"),t.dialogVisible=!1,t.fetchData(t.page)}))},switchStatus:function(t){var e=this;t.status=1===t.status?0:1,l.updateStatus(t.id,t.status).then((function(t){t.code&&(e.$message.success(t.message||\"操作成功\"),e.fetchData(e.page))}))},update:function(){var t=this;l.updateById(this.sysPost).then((function(e){t.$message.success(e.message||\"操作成功\"),t.dialogVisible=!1,t.fetchData(t.page)}))}}},u=r,d=s(\"2877\"),p=Object(d[\"a\"])(u,a,i,!1,null,null,null);e[\"default\"]=p.exports}}]);","extractedComments":[]}